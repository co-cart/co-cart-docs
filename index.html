
<!doctype html> 
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>CoCart Documentation v2.9</title>

    <link rel="icon" href="images/favicon-32x32-334932c6.png" sizes="32x32" />
    <link rel="icon" href="images/favicon-192x192-734db461.png" sizes="192x192" />
    <link rel="apple-touch-icon-precomposed" href="images/favicon-180x180-1326dbc6.png" />
    <meta name="msapplication-TileImage" content="images/favicon-270x270-efce6de3.png" />
    <meta name="msapplication-TileColor" content="#6e60cc" />
    <meta name="theme-color" content="#6e60cc" />

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #f8ea35;
}
.highlight .s2 {
  color: #f8ea35;
}
.highlight .sb {
  color: #f8ea35;
}
.highlight .sh {
  color: #f8ea35;
}
.highlight .si {
  color: #f8ea35;
}
.highlight .sx {
  color: #f8ea35;
}
.highlight .s1 {
  color: #f8ea35;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #f8ea35;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #bb7cf9;
}
.highlight .ow {
  color: #bb7cf9;
}
.highlight .nt {
  color: #bb7cf9;
}
.highlight .k, .highlight .kv {
  color: #bb7cf9;
}
.highlight .kn {
  color: #bb7cf9;
}
.highlight .kp {
  color: #bb7cf9;
}
.highlight .o {
  color: #bb7cf9;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-1cd6f20a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-46df3289.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-db0ef614.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>

    <!-- Chatra {literal} -->
    <script>
    window.ChatraSetup = {
        colors: {
            buttonText: '#fff',
            buttonBg: '#9a6fc4',
            disabledOnMobile: true
        }
    };
    </script>
    <script>
        (function(d, w, c) {
            w.ChatraID = 'xwyESjfvnFXRtTM3N';
            var s = d.createElement('script');
            w[c] = w[c] || function() {
                (w[c].q = w[c].q || []).push(arguments);
            };
            s.async = true;
            s.src = 'https://call.chatra.io/chatra.js';
            if (d.head) d.head.appendChild(s);
        })(document, window, 'Chatra');
    </script>
    <!-- /Chatra {/literal} -->
  </head>

    <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript--node&quot;,&quot;javascript--jquery&quot;,&quot;php&quot;,&quot;php--wp-http-api&quot;]">

    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <a href="index.html"><img src="images/logo-c0541af7.png" class="logo" alt="" /></a>
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="javascript--node">Node.js</a>
              <a href="#" data-language-name="javascript--jquery">jQuery</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="php--wp-http-api">WP API</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction-what-is-a-rest-api" class="toc-h2 toc-link" data-title="What is a REST API?">What is a REST API?</a>
                  </li>
                  <li>
                    <a href="#introduction-api-versions" class="toc-h2 toc-link" data-title="API Versions">API Versions</a>
                  </li>
                  <li>
                    <a href="#introduction-requirements" class="toc-h2 toc-link" data-title="Requirements">Requirements</a>
                  </li>
                  <li>
                    <a href="#introduction-request-response-format" class="toc-h2 toc-link" data-title="Request/Response Format">Request/Response Format</a>
                  </li>
                  <li>
                    <a href="#introduction-body-types" class="toc-h2 toc-link" data-title="Body Types">Body Types</a>
                  </li>
                  <li>
                    <a href="#introduction-errors" class="toc-h2 toc-link" data-title="Errors">Errors</a>
                  </li>
                  <li>
                    <a href="#introduction-parameters" class="toc-h2 toc-link" data-title="Parameters">Parameters</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getting-started-install-and-activate" class="toc-h2 toc-link" data-title="Install and Activate">Install and Activate</a>
                  </li>
                  <li>
                    <a href="#getting-started-cocart-wordpress-plugin" class="toc-h2 toc-link" data-title="CoCart WordPress Plugin">CoCart WordPress Plugin</a>
                  </li>
                  <li>
                    <a href="#getting-started-recommended-version" class="toc-h2 toc-link" data-title="Recommended Version">Recommended Version</a>
                  </li>
                  <li>
                    <a href="#getting-started-github-download-clone-plugin" class="toc-h2 toc-link" data-title="GitHub - Download / Clone Plugin">GitHub - Download / Clone Plugin</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#error-responses" class="toc-h1 toc-link" data-title="Error Responses">Error Responses</a>
          </li>
          <li>
            <a href="#index" class="toc-h1 toc-link" data-title="Index">Index</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#index-github-download-clone-plugin-http-request" class="toc-h2 toc-link" data-title="HTTP request">HTTP request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#f-a-q" class="toc-h1 toc-link" data-title="F.A.Q.">F.A.Q.</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#f-a-q-where-can-i-find-a-cart-item-key" class="toc-h2 toc-link" data-title="Where can I find a cart item key?">Where can I find a cart item key?</a>
                  </li>
                  <li>
                    <a href="#f-a-q-where-can-i-find-the-cart-key" class="toc-h2 toc-link" data-title="Where can I find the cart key?">Where can I find the cart key?</a>
                  </li>
                  <li>
                    <a href="#f-a-q-why-are-cart-items-merged" class="toc-h2 toc-link" data-title="Why are cart items merged?">Why are cart items merged?</a>
                  </li>
                  <li>
                    <a href="#f-a-q-is-it-possible-to-use-the-admin-key-secret-to-create-and-update-a-customers-cart" class="toc-h2 toc-link" data-title="Is it possible to use the admin key/secret to create and update a customers cart?">Is it possible to use the admin key/secret to create and update a customers cart?</a>
                  </li>
                  <li>
                    <a href="#f-a-q-does-cocart-work-with-the-dokan-plugin" class="toc-h2 toc-link" data-title="Does CoCart work with the Dokan plugin?">Does CoCart work with the Dokan plugin?</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication-basic-authentication" class="toc-h2 toc-link" data-title="Basic Authentication">Basic Authentication</a>
                  </li>
                  <li>
                    <a href="#authentication-jwt-authentication" class="toc-h2 toc-link" data-title="JWT Authentication">JWT Authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cart-key" class="toc-h1 toc-link" data-title="Cart Key">Cart Key</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cart-key-what-is-a-cart-key" class="toc-h2 toc-link" data-title="What is a Cart Key?">What is a Cart Key?</a>
                  </li>
                  <li>
                    <a href="#cart-key-accessing-the-cart-key" class="toc-h2 toc-link" data-title="Accessing the Cart Key">Accessing the Cart Key</a>
                  </li>
                  <li>
                    <a href="#cart-key-cart-key-in-cart-response" class="toc-h2 toc-link" data-title="Cart Key in Cart Response">Cart Key in Cart Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cookie" class="toc-h1 toc-link" data-title="Cookie">Cookie</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cookie-cart-key-in-cart-response-set-cookie-headers" class="toc-h2 toc-link" data-title="Set-Cookie-headers">Set-Cookie-headers</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-cart" class="toc-h1 toc-link" data-title="Get Cart">Get Cart</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-cart-get-cart-contents" class="toc-h2 toc-link" data-title="Get Cart Contents">Get Cart Contents</a>
                  </li>
                  <li>
                    <a href="#get-cart-cart-for-guest-customers" class="toc-h2 toc-link" data-title="Cart for Guest Customers">Cart for Guest Customers</a>
                  </li>
                  <li>
                    <a href="#get-cart-retrieve-a-cart-in-session" class="toc-h2 toc-link" data-title="Retrieve a Cart in Session">Retrieve a Cart in Session</a>
                  </li>
                  <li>
                    <a href="#get-cart-clear-cart" class="toc-h2 toc-link" data-title="Clear Cart">Clear Cart</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#add-to-cart" class="toc-h1 toc-link" data-title="Add to Cart">Add to Cart</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-to-cart-clear-cart-properties" class="toc-h2 toc-link" data-title="Properties">Properties</a>
                  </li>
                  <li>
                    <a href="#add-to-cart-clear-cart-http-request" class="toc-h2 toc-link" data-title="HTTP request">HTTP request</a>
                  </li>
                  <li>
                    <a href="#add-to-cart-add-item-to-cart" class="toc-h2 toc-link" data-title="Add Item to Cart">Add Item to Cart</a>
                  </li>
                  <li>
                    <a href="#add-to-cart-add-variation-item" class="toc-h2 toc-link" data-title="Add Variation Item">Add Variation Item</a>
                  </li>
                  <li>
                    <a href="#add-to-cart-add-item-with-custom-data" class="toc-h2 toc-link" data-title="Add Item with Custom Data">Add Item with Custom Data</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#items-in-cart" class="toc-h1 toc-link" data-title="Items in Cart">Items in Cart</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#items-in-cart-count-items" class="toc-h2 toc-link" data-title="Count Items">Count Items</a>
                  </li>
                  <li>
                    <a href="#items-in-cart-remove-item-from-cart" class="toc-h2 toc-link" data-title="Remove Item from Cart">Remove Item from Cart</a>
                  </li>
                  <li>
                    <a href="#items-in-cart-restore-item-to-cart" class="toc-h2 toc-link" data-title="Restore Item to Cart">Restore Item to Cart</a>
                  </li>
                  <li>
                    <a href="#items-in-cart-update-item-in-cart" class="toc-h2 toc-link" data-title="Update Item in Cart">Update Item in Cart</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#totals" class="toc-h1 toc-link" data-title="Totals">Totals</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#totals-retrieve-cart-totals" class="toc-h2 toc-link" data-title="Retrieve Cart Totals">Retrieve Cart Totals</a>
                  </li>
                  <li>
                    <a href="#totals-calculate-cart-totals" class="toc-h2 toc-link" data-title="Calculate Cart Totals">Calculate Cart Totals</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#logout" class="toc-h1 toc-link" data-title="Logout">Logout</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#logout-calculate-cart-totals-http-request" class="toc-h2 toc-link" data-title="HTTP request">HTTP request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#load-cart-from-session" class="toc-h1 toc-link" data-title="Load Cart from Session">Load Cart from Session</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#load-cart-from-session-properties" class="toc-h2 toc-link" data-title="Properties">Properties</a>
                  </li>
                  <li>
                    <a href="#load-cart-from-session-load-for-the-web" class="toc-h2 toc-link" data-title="Load for the Web">Load for the Web</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#extending-cocart" class="toc-h1 toc-link" data-title="Extending CoCart">Extending CoCart</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#extending-cocart-add-to-cart-handler" class="toc-h2 toc-link" data-title="Add to Cart Handler">Add to Cart Handler</a>
                  </li>
                  <li>
                    <a href="#extending-cocart-add-to-cart-validation" class="toc-h2 toc-link" data-title="Add to Cart Validation">Add to Cart Validation</a>
                  </li>
                  <li>
                    <a href="#extending-cocart-add-cart-item-data" class="toc-h2 toc-link" data-title="Add cart item data">Add cart item data</a>
                  </li>
                  <li>
                    <a href="#extending-cocart-extending-schema" class="toc-h2 toc-link" data-title="Extending Schema">Extending Schema</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#filters" class="toc-h1 toc-link" data-title="Filters">Filters</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#filters-cart-data" class="toc-h2 toc-link" data-title="Cart Data">Cart Data</a>
                  </li>
                  <li>
                    <a href="#filters-overrides" class="toc-h2 toc-link" data-title="Overrides">Overrides</a>
                  </li>
                  <li>
                    <a href="#filters-session-management" class="toc-h2 toc-link" data-title="Session Management">Session Management</a>
                  </li>
                  <li>
                    <a href="#filters-api-access" class="toc-h2 toc-link" data-title="API Access">API Access</a>
                  </li>
                  <li>
                    <a href="#filters-misc" class="toc-h2 toc-link" data-title="Misc">Misc</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#hooks" class="toc-h1 toc-link" data-title="Hooks">Hooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#hooks-misc-get-cart" class="toc-h2 toc-link" data-title="Get Cart">Get Cart</a>
                  </li>
                  <li>
                    <a href="#hooks-misc-clear-cart" class="toc-h2 toc-link" data-title="Clear Cart">Clear Cart</a>
                  </li>
                  <li>
                    <a href="#hooks-misc-item-added" class="toc-h2 toc-link" data-title="Item Added">Item Added</a>
                  </li>
                  <li>
                    <a href="#hooks-misc-item-removed" class="toc-h2 toc-link" data-title="Item Removed">Item Removed</a>
                  </li>
                  <li>
                    <a href="#hooks-misc-item-restored" class="toc-h2 toc-link" data-title="Item Restored">Item Restored</a>
                  </li>
                  <li>
                    <a href="#hooks-misc-item-quantity-changed" class="toc-h2 toc-link" data-title="Item Quantity Changed">Item Quantity Changed</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cocart-add-ons" class="toc-h1 toc-link" data-title="CoCart Add-ons">CoCart Add-ons</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cocart-add-ons-get-cart-enhanced" class="toc-h2 toc-link" data-title="Get Cart Enhanced">Get Cart Enhanced</a>
                  </li>
                  <li>
                    <a href="#cocart-add-ons-cocart-pro" class="toc-h2 toc-link" data-title="CoCart Pro">CoCart Pro</a>
                  </li>
                  <li>
                    <a href="#cocart-add-ons-cocart-products" class="toc-h2 toc-link" data-title="CoCart Products">CoCart Products</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#woocommerce-extensions" class="toc-h1 toc-link" data-title="WooCommerce Extensions">WooCommerce Extensions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#woocommerce-extensions-mix-and-match-products" class="toc-h2 toc-link" data-title="Mix and Match Products">Mix and Match Products</a>
                  </li>
                  <li>
                    <a href="#woocommerce-extensions-name-your-price" class="toc-h2 toc-link" data-title="Name Your Price">Name Your Price</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wp-config-php" class="toc-h1 toc-link" data-title="wp-config.php">wp-config.php</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#wp-config-php-uninstall" class="toc-h2 toc-link" data-title="Uninstall">Uninstall</a>
                  </li>
                  <li>
                    <a href="#wp-config-php-white-labelling" class="toc-h2 toc-link" data-title="White Labelling">White Labelling</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#demo-cocart" class="toc-h1 toc-link" data-title="Demo CoCart">Demo CoCart</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#demo-cocart-adding-an-item" class="toc-h2 toc-link" data-title="Adding an item">Adding an item</a>
                  </li>
                  <li>
                    <a href="#demo-cocart-authenticate-customer" class="toc-h2 toc-link" data-title="Authenticate Customer">Authenticate Customer</a>
                  </li>
                  <li>
                    <a href="#demo-cocart-products" class="toc-h2 toc-link" data-title="Products">Products</a>
                  </li>
                  <li>
                    <a href="#demo-cocart-coupons" class="toc-h2 toc-link" data-title="Coupons">Coupons</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#libraries" class="toc-h1 toc-link" data-title="Libraries">Libraries</a>
          </li>
          <li>
            <a href="#tools" class="toc-h1 toc-link" data-title="Tools">Tools</a>
          </li>
          <li>
            <a href="#learn-more" class="toc-h1 toc-link" data-title="Learn more">Learn more</a>
          </li>
          <li>
            <a href="#changelog" class="toc-h1 toc-link" data-title="Changelog">Changelog</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#changelog-doc-version-v2-9" class="toc-h2 toc-link" data-title="Doc Version v2.9">Doc Version v2.9</a>
                  </li>
                  <li>
                    <a href="#changelog-doc-version-v2-8-4" class="toc-h2 toc-link" data-title="Doc Version v2.8.4">Doc Version v2.8.4</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#contribute" class="toc-h1 toc-link" data-title="Contribute">Contribute</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href="https://github.com/co-cart/co-cart">CoCart Repository</a></li>
            <li><a href="https://github.com/co-cart/co-cart/issues?page=1&amp;state=open">CoCart Issues</a></li>
            <li><a href="https://github.com/co-cart/co-cart/blob/master/CONTRIBUTING.md">Contribute to CoCart</a></li>
            <li><a href="https://github.com/co-cart/co-cart-docs/blob/master/CONTRIBUTING.md">Contribute to Documentation</a></li>
            <li><a href="https://sebastiendumont.com">Developed by Sébastien Dumont</a></li>
            <li><a href="https://github.com/slatedocs/slate">Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_introduction.md">Edit on GitHub</a></p>

<p>Welcome to the documentation site for CoCart, the free, open-source WordPress plugin that brings the power of WooCommerce&#39;s shopping cart via the REST API.</p>
<h2 id='introduction-what-is-a-rest-api'>What is a REST API?</h2>
<p>REST is an acronym for Representational State Transfer — an almost meaningless description of the most-used web service technology! REST is a way for two computer systems to communicate over HTTP in a similar way to web browsers and servers.</p>

<p>CoCart is a REST API designed in mind for those who want to create a headless e-commerce site powered by WooCommerce. Read <a href="https://cocart.xyz/what-does-headless-mean/">what does headless mean?</a></p>

<p>CoCart allows developers to provide a shopping cart in their app that stores the customers items, coupons applied, shipping methods available and much more. Carts can be created, read, updated, and deleted using the requests available that return a response in JSON format and standard HTTP verbs which are understood by most HTTP clients.</p>
<h2 id='introduction-api-versions'>API Versions</h2>
<p>The current WordPress REST API integration for CoCart is version <code>v1</code> which takes a first-order position in the endpoints.</p>

<p>The following table shows API versions present in each major version of CoCart:</p>

<table><thead>
<tr>
<th>API Version</th>
<th>CoCart Version</th>
<th>WC Version</th>
<th>WP Version</th>
<th>PHP Version</th>
</tr>
</thead><tbody>
<tr>
<td><code>v1</code></td>
<td>2.0.x or later</td>
<td>4.0.x or later</td>
<td>5.2 or later</td>
<td>7.0 or later</td>
</tr>
</tbody></table>

<p>Prior to WooCommerce v3.6, CoCart shared WooCommerce&#39;s REST API. You can find the documentation about cart support for <code>/wc-api-v2</code> API separately.</p>

<table><thead>
<tr>
<th>API Version</th>
<th>WC Version</th>
<th>WP Version</th>
<th>Documentation</th>
</tr>
</thead><tbody>
<tr>
<td><code>Legacy wc-api-v2</code></td>
<td>3.0.x or later</td>
<td>4.4 or later</td>
<td><a href="wc-api-v2.html">wc-api-v2 docs</a></td>
</tr>
</tbody></table>
<h2 id='introduction-requirements'>Requirements</h2>
<p>To use the latest version of the CoCart you must be using:</p>

<ul>
<li>WordPress <strong>5.2 or later</strong>.</li>
<li>WooCommerce <strong>4.0 or later</strong>.</li>
<li>PHP <strong>7.0 or later</strong>.</li>
<li>Pretty permalinks in <code>Settings &gt; Permalinks</code> so that the custom endpoints are supported. <strong>Default permalinks will not work.</strong></li>
<li>You may make requests over either HTTP or HTTPS, but HTTPS is recommended where possible.</li>
</ul>

<aside class="notice">
  Please note that you are <strong>not</strong> required to install the <a href="https://wordpress.org/plugins/rest-api/">WP REST API (WP API)</a> plugin.
</aside>
<h2 id='introduction-request-response-format'>Request/Response Format</h2>
<p>The default response format is in JSON. Requests with a message-body use plain JSON to set or update resource attributes. Successful requests will return a <code>200 OK</code> HTTP status.</p>

<p>Some general information about response:</p>

<ul>
<li>Resource IDs are returned as integers.</li>
<li>Other amounts, such as item counts, are returned as integers.</li>
<li>Blank fields are generally included as <code>null</code> instead of being returned as blank strings or omitted.</li>
</ul>
<h2 id='introduction-body-types'>Body Types</h2>
<p>There are different types of body types when making a request. Make sure when using either of these body types that you have the correct <code>Content-Type</code> for the header.</p>

<table><thead>
<tr>
<th>Body Type</th>
<th>Content-Type</th>
</tr>
</thead><tbody>
<tr>
<td>form-data </td>
<td>application/json</td>
</tr>
<tr>
<td>raw </td>
<td>application/json</td>
</tr>
<tr>
<td>x-www-form-urlencoded</td>
<td>application/x-www-form-urlencoded</td>
</tr>
</tbody></table>

<aside class="notice">
  Body data must be passed correctly for the CoCart REST API to succeed.
</aside>

<p>I personally find using <strong>raw</strong> works best if you are passing an object of data for a <code>variation</code> or <code>cart_item_data</code>.</p>
<h2 id='introduction-errors'>Errors</h2>
<p>Occasionally you might encounter errors when accessing the REST API. Here are the possible types:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Error Type</th>
</tr>
</thead><tbody>
<tr>
<td><code>400 Bad Request</code></td>
<td>Invalid request, e.g. using an unsupported HTTP method</td>
</tr>
<tr>
<td><code>401 Unauthorized</code></td>
<td>Authentication or permission error, e.g. incorrect login</td>
</tr>
<tr>
<td><code>403 Forbidden</code></td>
<td>Not allowed to process this action or have permission.</td>
</tr>
<tr>
<td><code>404 Not Found</code></td>
<td>Requests to resources that don&#39;t exist or are missing</td>
</tr>
<tr>
<td><code>405 Method Not Allowed</code></td>
<td>A request method is not supported for the requested resource.</td>
</tr>
<tr>
<td><code>500 Internal Server Error</code></td>
<td>Server error</td>
</tr>
</tbody></table>

<blockquote>
<p>WP REST API error example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rest_no_route"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No route was found matching the URL and request method"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>CoCart error example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart_clear_cart_failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Clearing the cart failed!"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Errors return both an appropriate HTTP status code and response object which contains a <code>code</code>, <code>message</code> and <code>data</code> attribute.</p>
<h2 id='introduction-parameters'>Parameters</h2>
<p>Almost all endpoints accept optional parameters which can be passed as a HTTP query string parameter, e.g. <code>POST /cocart/v1/item?cart_item_key=270edd69788dce200a3b395a6da6fdb7&amp;quantity=2</code>. All parameters are documented along each endpoint.</p>
<h1 id='getting-started'>Getting Started</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_getting-started.md">Edit on GitHub</a></p>
<h2 id='getting-started-install-and-activate'>Install and Activate</h2>
<p>How to install and activate the CoCart plugin.</p>

<aside class="notice">
    <strong>New to WordPress?</strong><br/><br/>If you're new to WordPress development, I recommend getting started by downloading and using <a href="https://localwp.com/" target="_blank">Local</a>.
</aside>

<p>List of server <a href="#introduction-requirements">requirements</a>.</p>
<h3 id='getting-started-install-and-activate-automatic-installation'>Automatic installation</h3>
<p>Automatic installation is the easiest option as WordPress handles the file transfers itself and you don’t need to leave your web browser. To do an automatic install of CoCart, log in to your WordPress dashboard, navigate to the Plugins menu and click <strong>Add New</strong>.</p>

<p>In the search field type “CoCart” and click Search Plugins. Once you’ve found the plugin you can view details about it such as the point release, rating and description. Most importantly of course, you can install it by simply clicking “Install Now”.</p>
<h2 id='getting-started-cocart-wordpress-plugin'>CoCart WordPress Plugin</h2>
<p>CoCart is a free, open-source WordPress plugin that provides a REST API for WooCommerce to access the front-end features of your store.</p>
<h2 id='getting-started-recommended-version'>Recommended Version</h2>
<p>For the most stable and performance experience, it’s recommended that you use the most recent version of the plugin. You can get the <a href="https://wordpress.org/plugins/cart-rest-api-for-woocommerce/">latest releases here</a>.</p>

<p>Of course, as new features are in development, feel free to check out the latest develop branch or check out any <a href="https://github.com/co-cart/co-cart/releases">other release</a>.</p>
<h2 id='getting-started-github-download-clone-plugin'>GitHub - Download / Clone Plugin</h2>
<p>CoCart is available on GitHub: <a href="https://github.com/co-cart/co-cart">https://github.com/co-cart/co-cart</a></p>

<p>You can <a href="https://github.com/co-cart/co-cart/releases/latest">download the latest release</a> or clone the plugin from GitHub.</p>

<p>Add the downloaded/cloned plugin to your WordPress plugin directory. On a typical WordPress install, this is located at <code>/wp-content/plugins</code>.</p>

<aside class="notice">
    <strong>Install Directory</strong><br/><br/>To minimize risk of unintended behaviour, it’s best for your plugin directory to be "cart-rest-api-for-woocommerce" and not something else, like "cart-rest-api-for-woocommerce-master" or "cart-rest-api-for-woocommerce-develop".
</aside>
<h1 id='error-responses'>Error Responses</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_errors.md">Edit on GitHub</a></p>

<p>You might encounter an error when using CoCart. These error responses explain what might have happened.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Error Status</th>
<th>Error Response</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td><code>cocart_cannot_read_cart</code></td>
<td>Cannot read cart!</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_customer_missing</code></td>
<td>Customer ID is required!</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_cart_key_missing</code></td>
<td>Cart Key is required!</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_cart_in_session_not_valid</code></td>
<td>Cart in session is not valid!</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_clear_cart_failed</code></td>
<td>Clearing the cart failed!</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_product_id_required</code></td>
<td>Product ID number is required!</td>
</tr>
<tr>
<td>405</td>
<td><code>cocart_product_id_not_numeric</code></td>
<td>Product ID must be numeric!</td>
</tr>
<tr>
<td>405</td>
<td><code>cocart_quantity_not_numeric</code></td>
<td>Quantity must be numeric!</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_product_does_not_exist</code></td>
<td>Warning: This product does not exist!</td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_product_sold_individually</code></td>
<td>You cannot add another &quot;<code>%s</code>&quot; to your cart. <i class="label label-info">%s is the product name</i></td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_cannot_be_purchased</code></td>
<td>Sorry, this product cannot be purchased.</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_product_out_of_stock</code></td>
<td>You cannot add &quot;%s&quot; to the cart because the product is out of stock. <i class="label label-info">%s is the product name</i></td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_not_enough_in_stock</code></td>
<td>You cannot add a quantity of <code>%1$s</code> for &quot;<code>%2$s</code>&quot; to the cart because there is not enough stock. - only <code>%3$s</code> remaining! <i class="label label-info">%1$s: quantity requested, %2$s: product name, %3$s: stock remaining.</i></td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_not_enough_stock_remaining</code></td>
<td>You cannot add that amount to the cart &mdash; we have <code>%1$s</code> in stock and you already have <code>%2$s</code> in your cart.</td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_not_ok_to_add_item</code></td>
<td>This item can not be added to the cart.</td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_cannot_add_to_cart</code></td>
<td>You cannot add &quot;<code>%s</code>&quot; to your cart. <i class="label label-info">%s is the product name</i></td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_can_not_remove_item</code></td>
<td>Unable to remove item from cart.</td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_can_not_restore_item</code></td>
<td>Unable to restore item to the cart.</td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_can_not_update_item</code></td>
<td>Unable to update item quantity in cart.</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_cart_item_key_required</code></td>
<td>Cart item key is required!</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_no_items</code></td>
<td>No items in cart.</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_item_not_in_cart</code></td>
<td>Item specified does not exist in cart.</td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_cannot_add_product_type_to_cart</code></td>
<td>You cannot add &quot;<code>%1$s</code>&quot; to your cart as it is an &quot;<code>%2$s</code>&quot; product. <i class="label label-info">%1$s: product name, %2$s: product type</i></td>
</tr>
<tr>
<td>400</td>
<td><code>cocart_invalid_variation_data</code></td>
<td>Invalid value posted for <code>%1$s</code>. Allowed values: <code>%2$s</code> <i class="label label-info">%1$s: Attribute name, %2$s: Allowed values</i></td>
</tr>
<tr>
<td>400</td>
<td><code>cocart_missing_variation_data</code></td>
<td>Missing variation data for variable product. <code>%s</code> is a required field. <i class="label label-info">%s: Attribute name.</i></td>
</tr>
<tr>
<td>400</td>
<td><code>cocart_missing_variation_data</code></td>
<td>Missing variation data for variable product. <code>%s</code> are required fields. <i class="label label-info">%s: Attribute name.</i></td>
</tr>
<tr>
<td>400</td>
<td><code>cocart_no_variation_found</code></td>
<td>No matching variation found.</td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_cart_invalid_parent_product</code></td>
<td>This product cannot be added to the cart.</td>
</tr>
<tr>
<td>404</td>
<td><code>cocart_product_failed_validation</code></td>
<td>Product did not pass validation!</td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_product_sold_individually</code></td>
<td>You cannot add another &quot;<code>%s</code>&quot; to your cart.</td>
</tr>
<tr>
<td>403</td>
<td><code>cocart_can_not_increase_quantity</code></td>
<td>You can only have 1 <code>%s</code> in your cart. <i class="label label-info">%s is the product name</i></td>
</tr>
</tbody></table>
<h1 id='index'>Index</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_index.md">Edit on GitHub</a></p>

<p>By default, the API provides information about all available endpoints on the site. Authentication is not required to access the API index.</p>

<aside class="notice">
    Some endpoints are only available in CoCart Pro or via add-on.
</aside>
<h3 id='index-github-download-clone-plugin-http-request'>HTTP request</h3>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>/wp-json/cocart/v1</h6>
    </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://example.com/wp-json/cocart/v1 <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">""</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"routes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"/cocart/v1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/get-cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"cart_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the cart/customer."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"thumb"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the URL of the product image thumbnail."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/get-cart"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/get-cart/(?P&lt;id&gt;[\\w]+)"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"cart_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the cart/customer."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"thumb"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the URL of the product image thumbnail."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/get-cart/customer/(?P&lt;id&gt;[\\d]+)"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"cart_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the cart/customer."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"thumb"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the URL of the product image thumbnail."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/add-item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the product."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The quantity amount of the item to add to cart."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the variation."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"variation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The variation attributes that identity the variation of the item."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"cart_item_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional item data passed to make item unique."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"return_cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the cart once item is added."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/clear"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/clear"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/calculate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"return"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the cart totals once calculated."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/calculate"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/count-items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"return"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"numeric"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/count-items"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DELETE"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"cart_item_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the item in the cart."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"return_cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the whole cart to reduce API requests."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"cart_item_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the item in the cart."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"return_cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the whole cart to reduce API requests."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"DELETE"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"cart_item_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the item in the cart."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"return_cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the whole cart to reduce API requests."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/logout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/logout"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"/cocart/v1/totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"html"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the totals pre-formatted."</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"up"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='f-a-q'>F.A.Q.</h1><h2 id='f-a-q-where-can-i-find-a-cart-item-key'>Where can I find a cart item key?</h2>
<p>Each item added to the cart has it&#39;s on cart item key and you will find it under the property labelled &quot;key&quot;. Use it to update, remove or restore an item in/from the cart.</p>

<blockquote>
<p>When viewing the cart you will find the key.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">This</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">key.</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='f-a-q-where-can-i-find-the-cart-key'>Where can I find the cart key?</h2>
<p>The cart key (if not manually set), can be found via a few methods. <a href="#cart-key">See cart key section</a> for more details.</p>
<h2 id='f-a-q-why-are-cart-items-merged'>Why are cart items merged?</h2>
<p>If you mean between two or more customers. This is most likely because you tested the API with one of the <a href="#tools">tools</a> available and did not reset before testing as another customer.</p>

<p>For example, you started customer &quot;A&quot; as a guest adding an item to the cart. You then added another item while authenticating (logging in) as customer &quot;B&quot; without clearing the session cookie.</p>

<p>When you do this, WooCommerce thinks you are still the same customer so it merges the cart items together for customer &quot;B&quot; while customer &quot;A&quot; is removed from session as it is no longer a guest customer.</p>
<h2 id='f-a-q-is-it-possible-to-use-the-admin-key-secret-to-create-and-update-a-customers-cart'>Is it possible to use the admin key/secret to create and update a customers cart?</h2>
<p>Unfortunately, no. This is because when you authenticate as the admin, you are logged in not the customer. Even if you specified the customers user ID as the cart key. It will not take affect.</p>
<h2 id='f-a-q-does-cocart-work-with-the-dokan-plugin'>Does CoCart work with the Dokan plugin?</h2>
<p>Yes. The only feature you wont be able to use are coupons. This is because Dokan disables the use of coupons. All other features are compatible.</p>
<h1 id='authentication'>Authentication</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_authentication.md">Edit on GitHub</a></p>

<aside class="notice">
  For those who don't know what "Authentication" means, it's equivalent to a user logging in.
</aside>

<aside class="warning">
  Authentication is <strong>ONLY</strong> required for registered customers. In order for a registered customer to access their cart, you will be required to pass the customers username and password or token depending on the authentication method you are using. It's important that you keep authenticating with <strong>all routes</strong> from the beginning so the cart in session remains the same. <strong>NOT</strong> doing so will cause another cart to be created and lose track of the items added. If you have any questions, please ask away in the chat window below.
</aside>

<p>CoCart can be authenticated by various methods with the WordPress REST API. First being via the <a href="https://woocommerce.github.io/woocommerce-rest-api-docs/#rest-api-keys">REST API Keys</a> in <a href="https://woocommerce.github.io/woocommerce-rest-api-docs/#authentication">WooCommerce</a>. Though this method is designed for the backend with their REST API, with some custom coding you can make it work for the frontend with CoCart.</p>

<p>Checkout my guide on <a href="https://cocart.xyz/authenticating-with-woocommerce-heres-how-you-can-do-it/">how to authenticate with WooCommerce</a>.</p>

<p>It is also possible to authenticate using any of the following WP REST API authentication methods:</p>

<ul>
<li><a href="#authentication-basic-authentication">Basic Authentication</a> (Recommended with SSL Only!)</li>
<li><a href="#authentication-jwt-authentication">JWT Authentication for WP REST API</a></li>
</ul>

<p>The WordPress REST API incorporates a method called <a href="https://codex.wordpress.org/WordPress_Nonces">nonces</a> to deal with <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery">CSRF</a> issues. This ensures that all activities on the website remain segregated. This is because the WordPress REST API just like the WooCommerce REST API is designed for the back-end.</p>

<p>CoCart however, is designed for the front-end so for any CoCart requests made, the <a href="https://developer.wordpress.org/rest-api/using-the-rest-api/authentication/">cookie authentication</a> is disabled allowing the ability to authenticate in any code language without fault.</p>

<p>If you have tested other authentication plugins or methods, please let me know via the <a href="https://cocart.xyz/feedback/">feedback page</a> so that I can add it to the list.</p>

<p>Thank you. 😄</p>
<h2 id='authentication-basic-authentication'>Basic Authentication</h2>
<p><a href="https://en.wikipedia.org/wiki/Basic_access_authentication">What is the Basic Authentication method?</a></p>

<p>If you use the Basic Authentication method (which you may find the easiest to use for your customers to login with), please make sure that you have SSL enabled when making requests with any of the CoCart API routes. Check out the example adding an item to the cart as a registered customer.</p>

<aside class="notice">
  Replace the username and password with the customers login details.
</aside>
<h3 id='authentication-basic-authentication-steps-to-follow'>Steps to follow</h3>
<ol>
<li><a href="https://github.com/WP-API/Basic-Auth">Download and Install Basic Auth plugin</a></li>
</ol>

<blockquote>
<p>Adding an item to the cart as a customer.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  <span class="nt">-u</span> username:password <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "product_id": "32",
    "quantity": 1
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="c1">// import CoCartAPI from "@cocart/cocart-rest-api"; // Supports ESM</span>
<span class="kd">const</span> <span class="nx">CoCartAPI</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@cocart/cocart-rest-api</span><span class="dl">"</span><span class="p">).</span><span class="k">default</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">CoCart</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CoCartAPI</span><span class="p">({</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">consumerKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sebtest123</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">consumerSecret</span><span class="p">:</span> <span class="dl">'</span><span class="s1">happycoding24</span><span class="dl">'</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">32</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>

<span class="nx">CoCart</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">add-item</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/add-item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">headers</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">Authorization</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Basic </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="dl">'</span><span class="s1">username:password</span><span class="dl">'</span><span class="p">),</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">32</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s2">"32"</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'Accept: application/json'</span><span class="p">,</span>
  <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="s1">'Authorization: Basic '</span> <span class="o">.</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nv">$username</span> <span class="o">.</span> <span class="s1">':'</span> <span class="o">.</span> <span class="nv">$password</span><span class="p">)</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="nv">$headers</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Basic '</span> <span class="o">.</span> <span class="nb">base64_encode</span><span class="p">(</span> <span class="s1">'username:password'</span><span class="p">),</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s2">"32"</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"404dcc91b2aeaa7caa47487d1483e48a"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"404dcc91b2aeaa7caa47487d1483e48a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax_data"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"subtotal"</span><span class="p">:[],</span><span class="w">
      </span><span class="nl">"total"</span><span class="p">:[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_total"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='authentication-basic-authentication-authentication-issues'>Authentication issues?</h3>
<p>If the authentication header is not passing or authentication is not working you, adding a Rewrite rule to your <code>.htaccess</code> file might help.</p>

<blockquote>
<p>.htaccess Rewrite rule</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>&lt;IfModule mod_rewrite.c&gt;
RewriteEngine on
RewriteCond %{HTTP:Authorization} ^(.*)
RewriteRule ^(.*) - [E=HTTP_AUTHORIZATION:%1]
&lt;/IfModule&gt;
</code></pre></div><h2 id='authentication-jwt-authentication'>JWT Authentication</h2>
<p>JWT is a simple web token authentication method for WP REST API. To know more about JSON Web Tokens, please visit <a href="https://jwt.io">https://jwt.io</a>.</p>

<p>It&#39;s important that you follow the installation and configurations exactly for this method to work. <a href="https://github.com/Tmeister/wp-api-jwt-auth#installation--configuration">See instructions</a>.</p>
<h3 id='authentication-jwt-authentication-steps-to-follow'>Steps to follow</h3>
<ol>
<li><a href="https://wordpress.org/plugins/jwt-authentication-for-wp-rest-api/">Download and Install JWT Authentication plugin</a> from WordPress.org.</li>
<li><a href="https://github.com/Tmeister/wp-api-jwt-auth#configurate-the-secret-key">Configure the Secret Key</a>.</li>
<li><a href="https://github.com/Tmeister/wp-api-jwt-auth#usage">Get your token</a>.</li>
</ol>

<aside class="notice">
  Once you get the token, you must store it somewhere in your application, e.g. in a cookie or using localstorage. From this point, you should pass this token to every CoCart API call.
</aside>
<div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/add-item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">headers</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">Authorization</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Bearer </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span> <span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">32</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'Accept: application/json'</span><span class="p">,</span>
  <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="s1">'Authorization: Bearer '</span> <span class="o">.</span> <span class="nv">$token</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="nv">$headers</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><h1 id='cart-key'>Cart Key</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_cart_key.md">Edit on GitHub</a></p>
<h2 id='cart-key-what-is-a-cart-key'>What is a Cart Key?</h2>
<p>A cart key is what identifies the cart stored in session along with it&#39;s cart data and expiration. This is normally stored in a <a href="#cookie">cookie</a> and is used to load the cart in session if the cart still exists.</p>
<h2 id='cart-key-accessing-the-cart-key'>Accessing the Cart Key</h2>
<p>If cookies don&#39;t work for you due to the limitations of the framework your using to build with, then don&#39;t worry. The cart key created for the customer is returned via the returned headers once the first API request has been made. This is helpful for supporting guest customers.</p>

<p>Look for <code>X-CoCart-API</code> and you will see the value of the cart key returned. You can then use this to set any of the CoCart API to load this cart when required using the <code>cart_key</code> parameter.</p>

<aside class="warning">
    The <code>cart_key</code> parameter is a global parameter so it must be queried rather than being added as part of the data you send with the API request you make. Otherwise it will not update the cart.
</aside>
<h2 id='cart-key-cart-key-in-cart-response'>Cart Key in Cart Response</h2>
<p>It&#39;s also possible to return the cart key when you <a href="#get-cart">get the cart</a>. Simply download and activate the <a href="#cocart-add-ons-get-cart-enhanced">Get Cart Enhanced add-on plugin</a> and the cart key is returned along with other enhancements in the response.</p>
<h1 id='cookie'>Cookie</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_cookie.md">Edit on GitHub</a></p>

<p>CoCart only creates and uses one cookie per session/customer/device. The cookie name starts with <code>wp_cocart_session_</code> followed by the WordPress <strong>COOKIEHASH</strong>. The cookie name can be changed using <a href="#filters-session-management-change-cookie-name">this filter</a>.</p>

<p>If left <a href="#filters-session-management-cookie-supported">enabled</a>, this cookie will be used to identity the customers cart if they are not logged in. The cookie is read on the server and returns the cart stored in the cookie.</p>

<p>The cookie stores <strong>4</strong> key values.</p>

<ul>
<li>Cart Key/Customer ID</li>
<li>Cart expiring timestamp.</li>
<li>Cart expiration timestamp.</li>
<li>Cart hash (Customer ID and Cart Expiration Timestamp encrypted).</li>
</ul>

<p>If the framework your using is not able to read the cookie, then there are a few things you can do.</p>

<ol>
<li>Look for a cookie support add-on for your framework. React for example has one called <a href="https://www.npmjs.com/package/react-cookies">react-cookies</a>.</li>
<li>Read the cookie value yourself and explode it by <code>||</code> and get the first key value. Once you have that value you can use it to set the <code>cart_key</code> parameter on all API requests. This will use the <a href="#get-cart-cart-for-guest-customers-cart-key-method">Set Cart ID Method</a>.</li>
</ol>
<h3 id='cookie-cart-key-in-cart-response-set-cookie-headers'>Set-Cookie-headers</h3>
<p>The cookie for CoCart and therefore the cart key is supplied through response headers, so called <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie">Set-Cookie-headers</a>.</p>

<p>Cookies received via Set-Cookie-headers is stored in the browser for the domain upon which holds the API, meaning you can encounter problems reading the cookie values from your frontend.</p>

<p>If using a package like <a href="https://github.com/axios/axios">axios</a>, make sure to supply the correct config parameters that enables cookies in requests to the server. As an example, axios has a config parameter called <code>withAuthorization</code>. With the flag set to true, cookies previous set will be sent in the request.</p>
<h1 id='get-cart'>Get Cart</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_cart.md">Edit on GitHub</a></p>

<p>The cart API is powerful and allows you to view the cart in session, add new items, update the quantity of an item and delete individual items from the cart.</p>

<p>Using the individual endpoints and their properties, you can control what you need and what is returned when the request is finished.</p>

<ul>
<li><a href="#get-cart-get-cart-contents">Get Cart Contents</a></li>
<li><a href="#get-cart-cart-for-guest-customers">Cart for Guest Customers</a></li>
<li><a href="#get-cart-retrieve-a-cart-in-session">Retrieve a Cart in Session</a></li>
<li><a href="#get-cart-clear-cart">Clear Cart</a></li>
</ul>
<h2 id='get-cart-get-cart-contents'>Get Cart Contents</h2>
<p>This API returns the contents of the cart for a guest customer or logged in registered customer.</p>
<h3 id='get-cart-get-cart-contents-properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <a class="label label-info" href="#cart-key">?</a> <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>thumb</code></td>
<td>bool</td>
<td>Set as true to return the product thumbnail for each item.</td>
</tr>
</tbody></table>
<h3 id='get-cart-get-cart-contents-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/get-cart</h6>
  </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://example.com/wp-json/cocart/v1/get-cart <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">get-cart</span><span class="dl">"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/get-cart</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/get-cart'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data_hash"</span><span class="p">:</span><span class="s2">"b5c1d5ca8bae6d4896cf1807cdf763f0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_total"</span><span class="p">:</span><span class="mf">14.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{},</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_title"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£18"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Here is what to do to include the product thumbnail.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://example.com/wp-json/cocart/v1/get-cart <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "thumb": true
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">get-cart</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">thumb</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/get-cart</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">thumb</span><span class="dl">"</span> <span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'thumb'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'thumb'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
  <span class="p">]</span> <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/get-cart'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data_hash"</span><span class="p">:</span><span class="s2">"b5c1d5ca8bae6d4896cf1807cdf763f0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_total"</span><span class="p">:</span><span class="mf">14.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{},</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_title"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£18"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_image"</span><span class="p">:</span><span class="s2">"https://example.com/wp-content/uploads/2019/06/vneck-tee.jpg"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-cart-cart-for-guest-customers'>Cart for Guest Customers</h2>
<p><span class="new">Supported since v2.1</span></p>

<p>For guest customers there are two methods available for developers to use. The first method uses a cookie and handles everything for you. The second method allows you to set the cart key yourself.</p>
<h3 id='get-cart-cart-for-guest-customers-cookie-method'>Cookie Method</h3>
<p>Once a new customer has added the first item, a cookie is generated that stores the cart key and cart expiration. This cookie is used in order to load the cart again for that individual customer. No parameters are required to pass as it is all done in the background.</p>
<h3 id='get-cart-cart-for-guest-customers-cart-key-method'>Cart Key Method</h3>
<p>This method allows you to set the cart key yourself via the <code>cart_key</code> parameter which must be passed with each API request made. This sets the ID in session allowing to create/fetch the cart before changes are made.</p>

<aside class="notice">
  The cart key cannot be longer than <strong>42 characters</strong> as that is the limit for the database.
</aside>

<aside class="warning">
    The <code>cart_key</code> parameter is a global parameter so it must be queried rather than being added as part of the data you send with the API request you make. Otherwise it will not update the cart.
</aside>

<blockquote>
<p>Example of getting the cart for a guest customer.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://example.com/wp-json/cocart/v1/get-cart?cart_key<span class="o">=</span>9e18904482b4faf8762361836a83b93d <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">get-cart?cart_key=9e18904482b4faf8762361836a83b93d</span><span class="dl">"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/get-cart?cart_key=9e18904482b4faf8762361836a83b93d</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart?cart_key=9e18904482b4faf8762361836a83b93d"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/get-cart?cart_key=9e18904482b4faf8762361836a83b93d'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response is the same as the example above.</p>
</blockquote>
<h2 id='get-cart-retrieve-a-cart-in-session'>Retrieve a Cart in Session</h2>
<p>This API allows you to retrieve a cart stored in the database that is in session.</p>

<aside class="warning">
  This API does not load the cart into session for the customer. Carts for guest customers are loaded via a cookie stored on their device or set by a cart key. Carts for registered customers are loaded via the database as normal when authenticated. See <a href="#guest-customers">Guest Customers</a> for more details.
</aside>

<aside class="notice">
  If the cart you requested does not return then the cart in session either does not exist or has expired. By default, carts are stored in the database for 30 days from the last cart update.
</aside>
<h3 id='get-cart-retrieve-a-cart-in-session-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d</h6>
  </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://example.com/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">get-cart/9e18904482b4faf8762361836a83b93d</span><span class="dl">"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data_hash"</span><span class="p">:</span><span class="s2">"b5c1d5ca8bae6d4896cf1807cdf763f0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_total"</span><span class="p">:</span><span class="mf">14.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{},</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_title"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£18"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-cart-clear-cart'>Clear Cart</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_clear-cart.md">Edit on GitHub</a></p>

<p>This API helps you clear the contents of the cart.</p>
<h3 id='get-cart-clear-cart-properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <a class="label label-info" href="#cart-key">?</a> <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='get-cart-clear-cart-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/clear</h6>
  </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/clear <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">clear</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/clear</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/clear"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/clear'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="s2">"Cart is cleared."</span><span class="w">
</span></code></pre></div><h1 id='add-to-cart'>Add to Cart</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_add-to-cart.md">Edit on GitHub</a></p>

<p>The most important part of CoCart is adding items to the cart. This API helps you to add an item to the cart. You can also request to return the whole cart once item is added to reduce API requests and use the <a href="#cart-get-cart-contents">Get Cart Content</a> properties.</p>

<ul>
<li><a href="#add-to-cart-add-item-to-cart">Add Item to Cart</a></li>
<li><a href="#add-to-cart-add-variation-item">Add Variation Item</a></li>
<li><a href="#add-to-cart-add-item-with-custom-data">Add Item with Custom Data</a></li>
</ul>
<h3 id='add-to-cart-clear-cart-properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <a class="label label-info" href="#cart-key">?</a> <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>product_id</code></td>
<td>string</td>
<td>The product ID is required in order to add a product to the cart. A SKU ID can also be used here instead. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>float</td>
<td>Set the quantity of the product you want to add to the cart. <i class="label label-info">Default is 1</i></td>
</tr>
<tr>
<td><code>variation_id</code></td>
<td>integer</td>
<td>Used to set the variation of the product being added to the cart. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>variation</code></td>
<td>object</td>
<td>Attribute values.                                                 <i class="label label-info">required, for variable products only</i></td>
</tr>
<tr>
<td><code>cart_item_data</code></td>
<td>object</td>
<td>Used to apply extra cart item data we want to pass with the item. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>return_cart</code></td>
<td>bool</td>
<td>Set as true to return the cart once item added. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='add-to-cart-clear-cart-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/add-item</h6>
  </div>
</div>
<h2 id='add-to-cart-add-item-to-cart'>Add Item to Cart</h2>
<blockquote>
<p>Example of adding a product via product ID to the cart.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "product_id": "32",
    "quantity": 1
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">add-item</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">product_id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">32</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/add-item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">32</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s2">"32"</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s2">"32"</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Example of adding a product via SKU ID to the cart.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "product_id": "Red Hoodie",
    "quantity": 1
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">add-item</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">product_id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Red Hoodie</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/add-item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">Red Hoodie</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s2">"Red Hoodie"</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s2">"Red Hoodie"</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"404dcc91b2aeaa7caa47487d1483e48a"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"404dcc91b2aeaa7caa47487d1483e48a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax_data"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"subtotal"</span><span class="p">:[],</span><span class="w">
      </span><span class="nl">"total"</span><span class="p">:[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_total"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='add-to-cart-add-variation-item'>Add Variation Item</h2>
<p>Adding a variation of a product to the cart is easy. All you need is to identify the attributes and which attribute your customer has selected.</p>

<p>While the <code>variation_id</code> is important, it is not required to be know as the API will look it up for you based on the attributes passed. Without the attributes of the variation, there is no way to identify the variation added.</p>
<h3 id='add-to-cart-add-variation-item-what-are-attributes'>What are attributes?</h3>
<p>Attributes are what identify a variation of a variable product from the colour of a t-shirt to the size.</p>

<p>Attributes can be managed in two ways. Globally or via the product if they are custom. It&#39;s important to know what attributes are used for the variation of the product.</p>

<p>All attributes start with a prefix <code>attribute_</code>. A global attribute extends the prefix like so <code>attribute_pa_</code>, while a custom attribute just has the prefix <code>attribute_</code>. Both are followed by the attribute slug. See the examples for comparison.</p>

<aside class="notice">
  If any of your attributes are set for "Any" in the backend, your customer will still be required to select the attribute in order to add the variation to the cart.
</aside>

<aside class="warning">
  You can not add a simple product with attributes like a variation! If you wish to pass attribute data for a simple product, use the `cart_item_data` parameter instead.
</aside>

<blockquote>
<p>Example of adding a variation of a product to the cart.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "product_id": "1723",
    "quantity": 1,
    "variation_id": 1820,
    "variation": {
      "attribute_colours": "Red",
      "attribute_pa_size": "2x-large"
    }
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1722</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">variation_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1820</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">variation</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">attribute_colours</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Red</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">attribute_pa_size</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2x-large</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">CoCart</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">add-item</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/add-item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1722</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">variation_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1820</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">variation</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">attribute_colours</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Red</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">attribute_pa_size</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2x-large</span><span class="dl">"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'1722'</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s1">'variation_id'</span> <span class="o">=&gt;</span> <span class="mi">1820</span><span class="p">,</span>
  <span class="s1">'variation'</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s1">'attribute_colours'</span><span class="o">:</span> <span class="s1">'Red'</span><span class="p">,</span>
    <span class="s1">'attribute_pa_size'</span><span class="o">:</span> <span class="s1">'2x-large'</span>
  <span class="p">}</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'1722'</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s1">'variation_id'</span> <span class="o">=&gt;</span> <span class="mi">1820</span><span class="p">,</span>
    <span class="s1">'variation'</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s1">'attribute_colours'</span><span class="o">:</span> <span class="s1">'Red'</span><span class="p">,</span>
      <span class="s1">'attribute_pa_size'</span><span class="o">:</span> <span class="s1">'2x-large'</span>
    <span class="p">}</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2c698d686c6cd8872e825fd9b05bd322"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1722</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1820</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"attribute_colours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"attribute_pa_size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2x-large"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"data_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89f41c195ac99955ca64fafcc1225796"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T-shirt - Red"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T-shirt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£12.00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='add-to-cart-add-item-with-custom-data'>Add Item with Custom Data</h2>
<p>Need to pass custom data? This example will show you how.</p>

<blockquote>
<p>Example of adding a product with custom data to the cart.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "product_id": "3008",
    "quantity": 1,
    "cart_item_data": {
      "engraved_name": "Sébastien Dumont",
      "engraved_size": "Medium"
    }
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3008</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">cart_item_data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">engraved_name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sébastien Dumont</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">engraved_size</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Medium</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">CoCart</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">add-item</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/add-item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">3008</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">cart_item_data</span><span class="dl">"</span> <span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">engraved_name</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">Sébastien Dumont</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">engraved_size</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">Medium</span><span class="dl">"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'3008'</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'engraved_name'</span> <span class="o">=&gt;</span> <span class="s1">'Sébastien Dumont'</span><span class="p">,</span>
    <span class="s1">'engraved_size'</span> <span class="o">=&gt;</span> <span class="s1">'Medium'</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'3008'</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">'engraved_name'</span> <span class="o">=&gt;</span> <span class="s1">'Sébastien Dumont'</span><span class="p">,</span>
      <span class="s1">'engraved_size'</span> <span class="o">=&gt;</span> <span class="s1">'Medium'</span>
    <span class="p">)</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"engraved_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sébastien Dumont"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"engraved_size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Medium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b440b5368da5b3e3a6eb1f40fa666279"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3008</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"data_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5c1d5ca8bae6d4896cf1807cdf763f0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"13"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"13"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Silver Ring"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Silver Ring"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£80.00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='items-in-cart'>Items in Cart</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_items.md">Edit on GitHub</a></p>

<p>Once items are in the cart, customers always make decisions on which items they want to buy now, change the quantities of a particular item and which items they should remove.</p>

<p>The following API&#39;s help with all of that.</p>

<ul>
<li><a href="#items-in-cart-count-items">Count Items</a></li>
<li><a href="#items-in-cart-remove-item-from-cart">Remove Item from Cart</a></li>
<li><a href="#items-in-cart-restore-item-to-cart">Restore Item to Cart</a></li>
<li><a href="#items-in-cart-update-item-in-cart">Update Item in Cart</a></li>
</ul>
<h2 id='items-in-cart-count-items'>Count Items</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_count-items.md">Edit on GitHub</a></p>

<p>This API helps you count the items in the cart.</p>
<h3 id='items-in-cart-count-items-properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <a class="label label-info" href="#cart-key">?</a> <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='items-in-cart-count-items-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/count-items</h6>
  </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://example.com/wp-json/cocart/v1/count-items <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">count-items</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/count-items</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/count-items"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/count-items'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="mi">1</span><span class="w">
</span></code></pre></div><h2 id='items-in-cart-remove-item-from-cart'>Remove Item from Cart</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_remove-item-from-cart.md">Edit on GitHub</a></p>

<p>This API helps you to remove an item from the cart. You can also request to return the whole cart once item is removed to reduce API requests and use the <a href="#get-cart-get-cart-contents">Get Cart Contents</a> properties.</p>
<h3 id='items-in-cart-remove-item-from-cart-properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <a class="label label-info" href="#cart-key">?</a> <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>cart_item_key</code></td>
<td>string</td>
<td>The cart item key of the product in the cart. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>return_cart</code></td>
<td>bool</td>
<td>Set as true to return the whole cart once item is removed. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='items-in-cart-remove-item-from-cart-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-delete">DELETE</i>
    <h6>/wp-json/cocart/v1/item</h6>
  </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> DELETE https://example.com/wp-json/cocart/v1/item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "cart_item_key": 404dcc91b2aeaa7caa47487d1483e48a
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">cart_item_key</span><span class="dl">"</span><span class="p">:</span> <span class="mi">404</span><span class="nx">dcc91b2aeaa7caa47487d1483e48a</span>
<span class="p">};</span>

<span class="nx">CoCart</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="dl">"</span><span class="s2">item</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">cart_item_key</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">404dcc91b2aeaa7caa47487d1483e48a</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'method'</span> <span class="o">=&gt;</span> <span class="s1">'DELETE'</span><span class="p">,</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_request</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="s2">"Item has been removed from cart."</span><span class="w">
</span></code></pre></div><h2 id='items-in-cart-restore-item-to-cart'>Restore Item to Cart</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_restore-item-to-cart.md">Edit on GitHub</a></p>

<p>This API helps you to restore an item to the cart. You can also request to return the whole cart once item is restored to reduce API requests and use the <a href="#get-cart-get-cart-contents">Get Cart Contents</a> properties.</p>
<h3 id='items-in-cart-restore-item-to-cart-properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <a class="label label-info" href="#cart-key">?</a> <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>cart_item_key</code></td>
<td>string</td>
<td>The cart item key of the product that was in the cart recently. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>return_cart</code></td>
<td>bool</td>
<td>Set as true to return the whole cart once item is restored. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='items-in-cart-restore-item-to-cart-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/item</h6>
    </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://example.com/wp-json/cocart/v1/item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "cart_item_key": 404dcc91b2aeaa7caa47487d1483e48a
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">cart_item_key</span><span class="dl">"</span><span class="p">:</span> <span class="mi">404</span><span class="nx">dcc91b2aeaa7caa47487d1483e48a</span>
<span class="p">};</span>

<span class="nx">CoCart</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">item</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">cart_item_key</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">404dcc91b2aeaa7caa47487d1483e48a</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span>
  <span class="p">]</span> <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="s2">"Item has been restored to the cart.""
</span></code></pre></div><h2 id='items-in-cart-update-item-in-cart'>Update Item in Cart</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_update-item-in-cart.md">Edit on GitHub</a></p>

<p>This API helps you to update an item in the cart. You can also request to return the whole cart once item is updated to reduce API requests and use the <a href="#get-cart-get-cart-contents">Get Cart Contents</a> properties.</p>
<h3 id='items-in-cart-update-item-in-cart-properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <a class="label label-info" href="#cart-key">?</a> <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>cart_item_key</code></td>
<td>string</td>
<td>The cart item key of the product in the cart you want to update. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>float</td>
<td>Set the quantity of the product you want to update in the cart. <i class="label label-info">Default is 1</i></td>
</tr>
<tr>
<td><code>return_cart</code></td>
<td>bool</td>
<td>Set as true to return the whole cart once item is updated. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='items-in-cart-update-item-in-cart-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/item</h6>
  </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "cart_item_key": "404dcc91b2aeaa7caa47487d1483e48a",
    "quantity": 2
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">cart_item_key</span><span class="dl">"</span><span class="p">:</span> <span class="mi">404</span><span class="nx">dcc91b2aeaa7caa47487d1483e48a</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">};</span>

<span class="nx">CoCart</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">item</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">cart_item_key</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">404dcc91b2aeaa7caa47487d1483e48a</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span> <span class="p">:</span> <span class="mi">2</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">2</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">2</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"The quantity for 'Woo T-Shirt' has increased to '2'."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='totals'>Totals</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_totals.md">Edit on GitHub</a></p>

<ul>
<li><a href="#totals-retrieve-cart-totals">Retrieve Cart Totals</a></li>
<li><a href="#totals-calculate-cart-totals">Calculate Cart Totals</a></li>
</ul>
<h2 id='totals-retrieve-cart-totals'>Retrieve Cart Totals</h2>
<p>This API helps you retrieve the cart totals. You can also return the totals pre-formatted to save you time applying the currency symbol.</p>
<h3 id='totals-retrieve-cart-totals-properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <a class="label label-info" href="#cart-key">?</a> <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>html</code></td>
<td>bool</td>
<td>Set as true to return the totals as strings with currency symbol. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='totals-retrieve-cart-totals-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/totals</h6>
  </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://example.com/wp-json/cocart/v1/totals <span class="se">\</span>
 <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">totals</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/totals</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/totals"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/totals'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="s2">"123.00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subtotal_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_total"</span><span class="p">:</span><span class="s2">"33.00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_tax"</span><span class="p">:</span><span class="mf">6.6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">6.6</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"discount_total"</span><span class="p">:</span><span class="mf">24.6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"discount_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cart_contents_total"</span><span class="p">:</span><span class="s2">"98.40"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cart_contents_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cart_contents_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fee_total"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee_taxes"</span><span class="p">:[],</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="s2">"146.40"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total_tax"</span><span class="p">:</span><span class="mi">15</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Here is what to do to return the totals formatted with currency symbol.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET https://example.com/wp-json/cocart/v1/totals <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "html": true
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/totals</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">html</span><span class="dl">"</span> <span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'html'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/totals"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'html'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/totals'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="s2">"£123.00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subtotal_tax"</span><span class="p">:</span><span class="s2">"£8.40"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_total"</span><span class="p">:</span><span class="s2">"£33.00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_tax"</span><span class="p">:</span><span class="s2">"£6.60"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">6.6</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"discount_total"</span><span class="p">:</span><span class="s2">"£24.60"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"discount_tax"</span><span class="p">:</span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cart_contents_total"</span><span class="p">:</span><span class="s2">"£98.40"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cart_contents_tax"</span><span class="p">:</span><span class="s2">"£8.40"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cart_contents_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"fee_total"</span><span class="p">:</span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee_tax"</span><span class="p">:</span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee_taxes"</span><span class="p">:[],</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="s2">"£146.40"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total_tax"</span><span class="p">:</span><span class="s2">"£15.00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='totals-calculate-cart-totals'>Calculate Cart Totals</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_calculate.md">Edit on GitHub</a></p>

<p>This API helps you calculate the cart totals. You can also request to return the totals once calculated to reduce API requests and use the <a href="#totals-retrieve-cart-totals">Retrieve Cart Totals</a> properties.</p>
<h3 id='totals-calculate-cart-totals-properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <a class="label label-info" href="#cart-key">?</a> <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>return</code></td>
<td>bool</td>
<td>Set as true to return the totals once calculated. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='totals-calculate-cart-totals-http-request'>HTTP request</h3>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-post">POST</i>
        <h6>/wp-json/cocart/v1/calculate</h6>
    </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/calculate <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">calculate</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/calculate</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/calculate"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/calculate'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="s2">"Cart totals have been calculated."</span><span class="w">
</span></code></pre></div><h1 id='logout'>Logout</h1>
<p><span class="new">New API since v2.1</span></p>

<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_logout.md">Edit on GitHub</a></p>

<p>This API logs out your customers. This will clear all session cookies for WordPress and CoCart.</p>

<aside class="warning">
  Do <strong>NOT authenticate</strong> as the customer you are logging out for.
</aside>
<h3 id='logout-calculate-cart-totals-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/logout</h6>
  </div>
</div>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/logout <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">CoCart</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">logout</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Successful request</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Invalid request, for 4xx and 5xx statuses</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Status:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Headers:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Response Data:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Always executed.</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/logout</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/logout"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/logout'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="kc">true</span><span class="w">
</span></code></pre></div><h1 id='load-cart-from-session'>Load Cart from Session</h1>
<p><span class="new">New Feature since v2.1</span></p>

<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_load-cart-from-session.md">Edit on GitHub</a></p>

<p>Load cart from session allows the cart of your choosing to be set before anything WooCommerce handles.</p>

<p>For example if you have a returning customer that started as a guest and then logs in to their account. WooCommerce will then merge the carts together should the customer already have a saved cart.</p>

<p>This feature is designed to transfer the cart over to the web version of your store. It allows the customer to continue shopping or checkout what they already have in the cart added via your app. Handy if you don&#39;t yet have a checkout system in your app.</p>

<p>You can choose to override the cart (if anything is set) via the web or merge the cart items together.</p>

<aside class="notice">
    FYI: It does not matter if your customer is logged in or not already via the web version of your store. Only the cart data will be set. Customer details are <strong>not transferred</strong>.
</aside>
<h2 id='load-cart-from-session-properties'>Properties</h2>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cocart-load-cart</code></td>
<td>string</td>
<td>Set the cart key of the cart you wish to load. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>notify</code></td>
<td>bool</td>
<td>Set as true to notify customers once arrived on the web version of your store. <i class="label label-info">Default is false</i></td>
</tr>
<tr>
<td><code>keep-cart</code></td>
<td>bool</td>
<td>Set as false to merge cart data. <i class="label label-info">Default is true</i></td>
</tr>
<tr>
<td><code>redirect</code></td>
<td>bool</td>
<td>Set as true to redirect to cart page. <i class="label label-info">Default is false. Web Only!</i></td>
</tr>
</tbody></table>
<h2 id='load-cart-from-session-load-for-the-web'>Load for the Web</h2>
<p>To load the cart from session for the web, you must use the properties above to query your website.</p>

<aside class="warning">
  ⚠️ This features is not a REST API. Do not treat it as such! ⚠️
</aside>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-example">Example</i>
    <h6>https://example.com/?cocart-load-cart=bbfa8e97ac9cff4c861d62a109e83bb6</h6>
  </div>
</div>

<aside class="notice">
    If the same item already exists in cart and you are merging the two carts together, that item will not change. It will not increase or decrease the quantity if the item hash key are the same.
</aside>
<h1 id='extending-cocart'>Extending CoCart</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_extending.md">Edit on GitHub</a></p>

<p>CoCart is developer friendly even for extending support for other product types. This is useful for WooCommerce extensions developed by a 3rd party. Take the <a href="#woocommerce-extensions-mix-and-match-products">WooCommerce Mix and Match Products</a> extension for example.</p>
<h2 id='extending-cocart-add-to-cart-handler'>Add to Cart Handler</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_add_to_cart_handler+in%3Afile&amp;type=Code">View source</a></p>

<p>The handler allows support for other product types besides simple and variable products.</p>

<p>It allows you to override the product type to trigger the product handler before the item is added to the cart.</p>

<p>This is handy if you don&#39;t need to provide your own product handler for your custom product type but just need to use a handler already in the core of CoCart.</p>

<p>In <a href="#cocart-add-ons-cocart-pro">CoCart Pro</a> this filter is used so simple subscriptions and variable subscriptions can be added as a simple or variable product as there is not difference between the two when being added to the cart.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_add_to_cart_handler'</span><span class="p">,</span> <span class="s1">'my_add_to_cart_handler'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">my_add_to_cart_handler</span><span class="p">(</span> <span class="nv">$handler</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="nv">$handler</span> <span class="o">==</span> <span class="s1">'my-custom-product-type'</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">'simple'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h2 id='extending-cocart-add-to-cart-validation'>Add to Cart Validation</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?l=PHP&amp;q=cocart_add_to_cart_validation+in%3Afile&amp;type=Code">View source</a></p>

<p>This filter allows plugin developers to pass their own validation before an item is added to the cart. Unlike the <code>woocommerce_add_to_cart_validation</code> filter, you can not pass form requests. If you have custom data for the product that must be validated, it must be passed via <code>$cart_item_data</code> and checked to see if it exists.</p>

<p>In addition, to save time identifying the product type, it is also passed through automatically for you via <code>$product_type</code> which saves a database request and increases loading speed.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$passed_validation</code></td>
<td>bool</td>
<td>The status of adding an item to cart. <i class="label label-info">Default is true.</i></td>
</tr>
<tr>
<td><code>$product_id</code></td>
<td>integer</td>
<td>The product ID.</td>
</tr>
<tr>
<td><code>$quantity</code></td>
<td>float</td>
<td>The quantity of the product.</td>
</tr>
<tr>
<td><code>$variation_id</code></td>
<td>integer</td>
<td>The variation of the product being added to the cart.</td>
</tr>
<tr>
<td><code>$variation</code></td>
<td>array</td>
<td>Attribute values.</td>
</tr>
<tr>
<td><code>$cart_item_data</code></td>
<td>array</td>
<td>Cart item data passed with the item.</td>
</tr>
<tr>
<td><code>$product_type</code></td>
<td>string</td>
<td>The product type.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_add_to_cart_validation'</span><span class="p">,</span> <span class="s1">'my_add_to_cart_validation'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">7</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">my_add_to_cart_validation</span><span class="p">(</span> <span class="nv">$passed_validation</span><span class="p">,</span> <span class="nv">$product_id</span><span class="p">,</span> <span class="nv">$quantity</span><span class="p">,</span> <span class="nv">$variation_id</span><span class="p">,</span> <span class="nv">$variation</span><span class="p">,</span> <span class="nv">$cart_item_data</span><span class="p">,</span> <span class="nv">$product_type</span> <span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Add your validation here and simply return true|false.</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h2 id='extending-cocart-add-cart-item-data'>Add cart item data</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?l=PHP&amp;q=cocart_add_cart_item_data+in%3Afile&amp;type=Code">View source</a></p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_add_cart_item_data'</span><span class="p">,</span> <span class="s1">'my_add_cart_item_data'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">7</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">my_add_cart_item_data</span><span class="p">(</span> <span class="nv">$cart_item_data</span> <span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Add your validation here and simply return true|false.</span>
  <span class="k">return</span> <span class="nv">$cart_item_data</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h2 id='extending-cocart-extending-schema'>Extending Schema</h2>
<p>Details coming soon.</p>

<div style="clear: both;"></div>
<h1 id='filters'>Filters</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_filters.md">Edit on GitHub</a></p>

<p>The cart API has a number of filters that you can use to change or control the API to your needs.</p>

<p>See the <a href="https://github.com/co-cart/co-cart-tweaks">tweaks plugin for examples</a>.</p>

<aside class="notice">
  Please make sure you are viewing the PHP language to view examples of the filters in use.
</aside>

<ul>
<li><a href="#filters-cart-data">Cart Data</a></li>
<li><a href="#filters-overrides">Overrides</a></li>
<li><a href="#filters-session-management">Session Management</a></li>
<li><a href="#filters-api-access">API Access</a></li>
<li><a href="#filters-misc">Misc</a></li>
</ul>
<h2 id='filters-cart-data'>Cart Data</h2><h3 id='filters-cart-data-return-cart-contents'>Return Cart Contents</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_return_cart_contents+in%3Afile&amp;type=Code">View source</a></p>

<p>If you are in need to change the formatting of the returned cart contents, this filter <code>cocart_return_cart_contents</code> is for you.</p>

<p>In CoCart Pro you can filter the same results for removed cart contents.</p>

<p>If you have <a href="https://wordpress.org/plugins/cocart-get-cart-enhanced/">Get Cart Enhanced</a> add-on installed, this filter will already be used but can still be used again to apply your own.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Returns the cart contents without the cart item key as the parent array.</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_return_cart_contents'</span><span class="p">,</span> <span class="s1">'remove_parent_cart_item_key'</span><span class="p">,</span> <span class="mi">0</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">remove_parent_cart_item_key</span><span class="p">(</span> <span class="nv">$cart_contents</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$new_cart_contents</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

  <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$cart_contents</span> <span class="k">as</span> <span class="nv">$item_key</span> <span class="o">=&gt;</span> <span class="nv">$cart_item</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$new_cart_contents</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$cart_item</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nv">$new_cart_contents</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-cart-data-return-cart-contents-in-session'>Return Cart Contents in Session</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_return_cart_session_contents+in%3Afile&amp;type=Code">View source</a></p>

<p>Identical to <code>cocart_return_cart_contents</code> filter, only this one is used to filter the cart contents returned for a cart in session that you have <a href="#cart-retrieve-a-cart">requested to view specifically</a>.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_return_cart_session_contents'</span><span class="p">,</span> <span class="s1">'remove_parent_cart_item_key'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">remove_parent_cart_item_key</span><span class="p">(</span> <span class="nv">$cart_contents</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$new_cart_contents</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

  <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$cart_contents</span> <span class="k">as</span> <span class="nv">$item_key</span> <span class="o">=&gt;</span> <span class="nv">$cart_item</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$new_cart_contents</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$cart_item</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nv">$new_cart_contents</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-cart-data-empty-cart'>Empty Cart</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?l=PHP&amp;q=cocart_return_empty_cart+in%3Afile&amp;type=Code">View source</a></p>

<p>If you don&#39;t want to return an empty array when the cart is empty, you can return a custom response instead.</p>

<p>If you have <a href="https://wordpress.org/plugins/cocart-get-cart-enhanced/">Get Cart Enhanced</a> add-on installed, this filter will already be used but can still be used again to apply your own.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_return_empty_cart'</span><span class="p">,</span> <span class="s1">'empty_cart_message'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">empty_cart_message</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'Your cart is empty! Go and fill it.'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-cart-data-thumbnail-size'>Thumbnail size</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_item_thumbnail_size+in%3Afile&amp;type=Code">View source</a></p>

<p>By default, the product thumbnail returns using <code>woocommerce_thumbnail</code> image size. You can change this simply by returning the image size registered on your WordPress installation with this filter <code>cocart_item_thumbnail_size</code>.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_item_thumbnail_size'</span><span class="p">,</span> <span class="s1">'thumbnail_size'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">thumbnail_size</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'thumbnail'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-cart-data-return-more-item-details'>Return more item details</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_cart_contents+in%3Afile&amp;type=Code">View source</a></p>

<p>Sometimes you just need more product data for the items added. You can do so using <code>cocart_cart_contents</code> filter.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$cart_contents</code></td>
<td>array</td>
<td>An array of items added to the cart.</td>
</tr>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>Unique generated ID for the item in cart.</td>
</tr>
<tr>
<td><code>$cart_item</code></td>
<td>array</td>
<td>An array of details of the item in the cart.</td>
</tr>
<tr>
<td><code>$_product</code></td>
<td>object</td>
<td>The product data of the item.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_contents'</span><span class="p">,</span> <span class="s1">'return_product_weight'</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">4</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">return_product_sku</span><span class="p">(</span> <span class="nv">$cart_contents</span><span class="p">,</span> <span class="nv">$item_key</span><span class="p">,</span> <span class="nv">$cart_item</span><span class="p">,</span> <span class="nv">$_product</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$cart_contents</span><span class="p">[</span><span class="nv">$item_key</span><span class="p">][</span><span class="s1">'sku'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$_product</span><span class="o">-&gt;</span><span class="na">get_sku</span><span class="p">();</span>

  <span class="k">return</span> <span class="nv">$cart_contents</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h2 id='filters-overrides'>Overrides</h2>
<aside class="notice">
Some of these overrides require that you also filter the overrides available in the core of WooCommerce in order to match.
</aside>
<h3 id='filters-overrides-sold-individually'>Sold Individually</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_add_to_cart_sold_individually_quantity+in%3Afile&amp;type=Code">View source</a></p>

<p>With this filter you can force items sold individually to have more or less.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_add_to_cart_sold_individually_quantity'</span><span class="p">,</span> <span class="s1">'override_sold_individual_quantity'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_sold_individual_quantity</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-overrides-ok-to-add-item'>OK to add item?</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_ok_to_add+in%3Afile&amp;type=Code">View source</a></p>

<p>Want to stop an item being added and return a custom message should it require an item not in the cart first.</p>

<p>Use the <code>cocart_ok_to_add</code> and <code>cocart_ok_to_add_response</code> filters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$status</code></td>
<td>bool</td>
<td>The status of adding an item to cart.</td>
</tr>
<tr>
<td><code>$response</code></td>
<td>string</td>
<td>The returned message.</td>
</tr>
<tr>
<td><code>$product_data</code></td>
<td>object</td>
<td>The product data of the item.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_ok_to_add'</span><span class="p">,</span> <span class="s1">'requires_specific_item'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">requires_specific_item</span><span class="p">(</span> <span class="nv">$status</span><span class="p">,</span> <span class="nv">$product_data</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$cart_contents</span> <span class="o">=</span> <span class="nb">isset</span><span class="p">(</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">get_cart</span><span class="p">()</span> <span class="o">:</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">cart</span><span class="p">;</span>

  <span class="nv">$required_product_id</span> <span class="o">=</span> <span class="s1">'123'</span><span class="p">;</span> <span class="c1">// Replace with real product ID number.</span>

  <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$cart_contents</span> <span class="k">as</span> <span class="nv">$item_key</span> <span class="o">=&gt;</span> <span class="nv">$cart_item</span> <span class="p">)</span> <span class="p">{</span> 
      <span class="c1">// If required product ID does not exist return false.</span>
      <span class="k">if</span> <span class="p">(</span> <span class="nv">$cart_item</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">!=</span> <span class="nv">$required_product_id</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nv">$status</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nv">$status</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_ok_to_add_message'</span><span class="p">,</span> <span class="s1">'requires_specific_item'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">requires_specific_item_response</span><span class="p">(</span> <span class="nv">$response</span><span class="p">,</span> <span class="nv">$product_data</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nx">__</span><span class="p">(</span> <span class="s1">'This item requires a specific item to be added first to the cart.'</span> <span class="p">);</span>

  <span class="k">return</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-overrides-product-name'>Product name</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?l=PHP&amp;q=cocart_product_name+in%3Afile&amp;type=Code">View source</a></p>

<p>You can override the product name when cart is returned or just added to the cart.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$name</code></td>
<td>string</td>
<td>Original name of product.</td>
</tr>
<tr>
<td><code>$_product</code></td>
<td>WC_Product</td>
<td>The product data.</td>
</tr>
<tr>
<td><code>$cart_item</code></td>
<td>array</td>
<td>Cart item.</td>
</tr>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>Cart item key.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_product_name'</span><span class="p">,</span> <span class="s1">'override_product_name'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_name</span><span class="p">(</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$_product</span><span class="p">,</span> <span class="nv">$cart_item</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'This product is special'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_item_added_product_name'</span><span class="p">,</span> <span class="s1">'override_product_name'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_name</span><span class="p">(</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$_product</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'This product is special'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-overrides-product-title'>Product title</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_product_title+in%3Afile&amp;type=Code">View source</a></p>

<p>You can override the product title when cart is returned or just added to the cart.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$name</code></td>
<td>string</td>
<td>Original name of product.</td>
</tr>
<tr>
<td><code>$_product</code></td>
<td>WC_Product</td>
<td>The product data.</td>
</tr>
<tr>
<td><code>$cart_item</code></td>
<td>array</td>
<td>Cart item.</td>
</tr>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>Cart item key.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_product_title'</span><span class="p">,</span> <span class="s1">'override_product_title'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_title</span><span class="p">(</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$_product</span><span class="p">,</span> <span class="nv">$cart_item</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'This product is awesome'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_item_added_product_title'</span><span class="p">,</span> <span class="s1">'override_product_title'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_title</span><span class="p">(</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$_product</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'This product is awesome'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-overrides-product-thumbnail-source'>Product thumbnail source</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_item_thumbnail_src+in%3Afile&amp;type=Code">View source</a></p>

<p>This filter in particular allows you to change the source of the image for a specific item. The source could be external for example.</p>

<aside class="warning">
  The filter is triggered after the <code>cocart_item_thumbnail_size</code> filter so you will need to have the new source image in the size you want.
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$thumbnail_src</code></td>
<td>string</td>
<td>The original thumbnail source.</td>
</tr>
<tr>
<td><code>$cart_item</code></td>
<td>array</td>
<td>Cart item.</td>
</tr>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>Cart item key.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_item_thumbnail_src'</span><span class="p">,</span> <span class="s1">'override_item_thumbail_src'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_item_thumbail_src</span><span class="p">(</span> <span class="nv">$thumbnail_src</span><span class="p">,</span> <span class="nv">$cart_item</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'https://placekitten.com/100/100'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-overrides-product-quantity'>Product quantity</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_add_to_cart_quantity+in%3Afile&amp;type=Code">View source</a></p>

<p>You could use this filter to force certain products to be added to the cart with a certain quantity or for example use the <code>$quantity</code> value to calculate double the amount if your doing something unique for your store.</p>

<aside class="warning">
  The quantity however will not change if you have the product setup to be sold individually.
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$quantity</code></td>
<td>float</td>
<td>The original quantity of the item.</td>
</tr>
<tr>
<td><code>$product_id</code></td>
<td>integer</td>
<td>The product ID.</td>
</tr>
<tr>
<td><code>$variation_id</code></td>
<td>integer</td>
<td>The variation ID.</td>
</tr>
<tr>
<td><code>$variation</code></td>
<td>array</td>
<td>The variation data.</td>
</tr>
<tr>
<td><code>$cart_item_data</code></td>
<td>array</td>
<td>Cart item data passed with the item.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_add_to_cart_quantity'</span><span class="p">,</span> <span class="s1">'override_product_quantity'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_quantity</span><span class="p">(</span> <span class="nv">$quantity</span><span class="p">,</span> <span class="nv">$product_id</span><span class="p">,</span> <span class="nv">$variation_id</span><span class="p">,</span> <span class="nv">$variation</span><span class="p">,</span> <span class="nv">$cart_item_data</span> <span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Make sure you specify the product ID you want to override.</span>
  <span class="k">if</span> <span class="p">(</span> <span class="nv">$product_id</span> <span class="o">==</span> <span class="mi">32</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// Make sure that you just return the number and not override the `$quantity` variable.</span>
  <span class="p">}</span>

  <span class="c1">// Return `$quantity` variable for all other products that you are NOT overriding.</span>
  <span class="k">return</span> <span class="nv">$quantity</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-overrides-cannot-add-product-type-to-cart-message'>Cannot Add Product Type to Cart Message</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_cannot_add_product_type_to_cart_message+in%3Afile&amp;type=Code">View source</a></p>

<p>Change the returned message when you try to add a product type that cannot be added to the cart.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cannot_add_product_type_to_cart_message'</span><span class="p">,</span> <span class="s1">'cannot_add_product_type_to_cart_message'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">cannot_add_product_type_to_cart_message</span><span class="p">()</span> <span class="p">{</span>
  <span class="cm">/* params: %1$s: product name, %2$s: product type */</span>
  <span class="nb">sprintf</span><span class="p">(</span> <span class="s1">'You cannot add "%1$s" to your cart as it is a "%2$s" product.'</span><span class="p">,</span> <span class="nv">$product_data</span><span class="o">-&gt;</span><span class="na">get_name</span><span class="p">(),</span> <span class="nv">$product_data</span><span class="o">-&gt;</span><span class="na">get_type</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-overrides-cart-item-removed-message'>Cart Item Removed Message</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_cart_item_removed_message+in%3Afile&amp;type=Code">View source</a></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$message</code></td>
<td>string</td>
<td>The original message.</td>
</tr>
<tr>
<td><code>$_product</code></td>
<td>WC_Product</td>
<td>The product data.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_item_removed_message'</span><span class="p">,</span> <span class="s1">'cart_item_removed_message'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">cart_item_removed_message</span><span class="p">(</span> <span class="nv">$message</span><span class="p">,</span> <span class="nv">$_product</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">sprintf</span><span class="p">(</span> <span class="s1">'%s has been removed from your cart because it can no longer be purchased. Please contact us if you need assistance.'</span><span class="p">,</span> <span class="nv">$_product</span><span class="o">-&gt;</span><span class="na">get_name</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h2 id='filters-session-management'>Session Management</h2><h3 id='filters-session-management-cookie-supported'>Cookie Supported?</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_cookie_supported+in%3Afile&amp;type=Code">View source</a></p>

<p>This filter allows you to disable support for the CoCart cookie that handles the session for customers. Use only if you are using the alternative method for customers.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cookie_supported'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="p">});</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-session-management-change-cookie-name'>Change Cookie Name</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_cookie+in%3Afile&amp;type=Code">View source</a></p>

<p>This could be changed to include your store brand name.</p>

<aside class="notice">
  It is recommended that you at least leave in place the <strong>COOKIEHASH</strong> which by default is your site URL encrypted. It is used to guarantee unique hash for cookies.
</aside>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cookie'</span><span class="p">,</span> <span class="s1">'my_cocart_cookie_name'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">my_cocart_cookie_name</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'randomloot_store_'</span> <span class="o">.</span> <span class="nx">COOKIEHASH</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-session-management-should-cart-cookie-be-secure'>Should cart cookie be secure?</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_cart_use_secure_cookie+in%3Afile&amp;type=Code">View source</a></p>

<p>Be default this will set as true if your site has SSL enabled. Otherwise it will return false. Filtering will force it.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_use_secure_cookie'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">});</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-session-management-cart-expiration'>Cart Expiration</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_cart_expiring+in%3Afile&amp;type=Code">View source</a></p>

<p>There are two filters for cart expiration. The first is used to detect if we are close to expiration of the cart. The second is used to set how long the cart will be stored until expired.</p>

<aside class="notice">
  Close to expiration by default is 29 days. Cart expiration by default is 30 days.
</aside>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_expiring'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">DAY_IN_SECONDS</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span> <span class="p">});</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_expiration'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">DAY_IN_SECONDS</span> <span class="o">*</span> <span class="mi">4</span><span class="p">;</span> <span class="p">});</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-session-management-empty-cart-expiration'>Empty Cart Expiration</h3>
<p><span class="deprecated">Deprecated since v2.7.2</span></p>

<p>This filter allows you to change the expiration of an empty cart. Default value is 6 hours.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_empty_cart_expiration'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">HOUR_IN_SECONDS</span> <span class="o">*</span> <span class="mi">1</span><span class="p">;</span> <span class="p">});</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-session-management-generated-customer-id'>Generated Customer ID</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_customer_id+in%3Afile&amp;type=Code">View source</a></p>

<p>This filter allows you to change the generated customer ID for the guest customer. Use this filter with caution. <strong>Cannot</strong> be longer than 42 characters, exceed it and the database will not save the cart.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_customer_id'</span><span class="p">,</span> <span class="s1">'my_custom_generate_customer_id'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">my_custom_generate_customer_id</span><span class="p">(</span> <span class="nv">$hasher</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">md5</span><span class="p">(</span> <span class="nv">$hasher</span><span class="o">-&gt;</span><span class="na">get_random_bytes</span><span class="p">(</span> <span class="mi">42</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-session-management-cart-loaded-successful-message'>Cart Loaded Successful Message</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_cart_loaded_successful_message+in%3Afile&amp;type=Code">View source</a></p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_loaded_successful_message'</span><span class="p">,</span> <span class="s1">'cart_loaded_successful_message'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">cart_loaded_successful_message</span><span class="p">(</span> <span class="nv">$message</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">sprintf</span><span class="p">(</span> <span class="s1">'Your 🛒 cart has been transferred over. You may %1$scontinue shopping%3$s or %2$scheckout%3$s.'</span><span class="p">,</span> <span class="s1">'&lt;a href="'</span> <span class="o">.</span> <span class="nx">wc_get_page_permalink</span><span class="p">(</span> <span class="s2">"shop"</span> <span class="p">)</span> <span class="o">.</span> <span class="s1">'"&gt;'</span><span class="p">,</span> <span class="s1">'&lt;a href="'</span> <span class="o">.</span> <span class="nx">wc_get_checkout_url</span><span class="p">()</span> <span class="o">.</span> <span class="s1">'"&gt;'</span><span class="p">,</span> <span class="s1">'&lt;/a&gt;'</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h2 id='filters-api-access'>API Access</h2><h3 id='filters-api-access-cocart-logging'>CoCart Logging</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?l=PHP&amp;q=cocart_logging+in%3Afile&amp;type=Code">View source</a></p>

<p>If you are debugging CoCart during your development, enabling the logger is a great tool to have.</p>

<p>Then when making any request, you can view the logs created via your WordPress dashboard under <strong>WooCommerce &gt; System Status &gt; Logs</strong></p>

<p>I personally like to change the WooCommerce log handler to be stored via the database which you set in your <em>wp-config.php</em> file.</p>

<blockquote>
<p>WooCommerce Log Handler</p>
</blockquote>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nb">define</span><span class="p">(</span> <span class="s1">'WC_LOG_HANDLER'</span><span class="p">,</span> <span class="s1">'WC_Log_Handler_DB'</span> <span class="p">);</span>
</code></pre></div>
<aside class="notice">
You must have <strong>WP_DEBUG</strong> enabled in your <i>wp-config.php</i> file first in order for the logs to record.
</aside>

<blockquote>
<p>CoCart Logging filter</p>
</blockquote>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_logging'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">});</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-api-access-cors-allow-all-cross-origin-headers'>CORS: Allow all cross origin headers</h3>
<p><span class="new">New Filter since v2.2</span></p>

<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_disable_all_cors+in%3Afile&amp;type=Code">View source</a></p>

<p>If you are getting a warning about cross origin headers then you may need to enable support for it. Simply apply this filter and the headers will set for you with no further configuration.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_disable_all_cors'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="p">});</span>
</code></pre></div><h3 id='filters-api-access-set-allow-origin-header'>Set Allow Origin Header</h3>
<p><span class="new">New Filter since v2.5.1</span></p>

<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?l=PHP&amp;q=cocart_allow_origin+in%3Afile&amp;type=Code">View source</a></p>

<p>For added security when you go into production. Set <strong>&#39;Access-Control-Allow-Origin&#39;</strong> header to be more specific. <a href="#filters-api-access-cors-allow-all-cross-origin-headers">Allow all cross origin headers</a> must be enabled first as shown above.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_allow_origin'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">'https://wp-demo.cocart.xyz'</span><span class="p">;</span> <span class="p">});</span>
</code></pre></div><h3 id='filters-api-access-is-rest-api-request'>Is REST API Request?</h3>
<p><span class="new">New Filter since v2.7.0</span></p>

<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?l=PHP&amp;q=cocart_is_rest_api_request+in%3Afile&amp;type=Code">View source</a></p>

<p>This filter allows you to run your own API check-up with CoCart.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_is_rest_api_request'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nv">$rest_prefix</span>         <span class="o">=</span> <span class="nx">trailingslashit</span><span class="p">(</span> <span class="nx">rest_get_url_prefix</span><span class="p">()</span> <span class="p">);</span>
  <span class="nv">$is_rest_api_request</span> <span class="o">=</span> <span class="p">(</span> <span class="kc">false</span> <span class="o">!==</span> <span class="nb">strpos</span><span class="p">(</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'REQUEST_URI'</span><span class="p">],</span> <span class="nv">$rest_prefix</span> <span class="o">.</span> <span class="s1">'myrestapi/'</span> <span class="p">)</span> <span class="p">);</span>

  <span class="k">return</span> <span class="nv">$is_rest_api_request</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div><h2 id='filters-misc'>Misc</h2><h3 id='filters-misc-merge-cart-items'>Merge Cart Items</h3>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_merge_cart_content+in%3Afile&amp;type=Code">View source</a></p>

<p>This filter allows you to change how the items are merged together before loaded into session when requesting to keep the current cart via the web.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="cd">/**
 * @param  `$new_cart_content` - Returns the cart items merged from both cart in session and the cart requested to load.
 * @param  `$new_cart` - Returns the requested cart to load.
 * @param  `$cart_in_session` - Returns the current cart contents, if any.
 * @return `$new_cart_content` - Returns your results of the cart contents.
 */</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_merge_cart_content'</span><span class="p">,</span> <span class="s1">'merge_cart_contents'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">merge_cart_contents</span><span class="p">(</span> <span class="nv">$new_cart_content</span><span class="p">,</span> <span class="nv">$new_cart</span><span class="p">,</span> <span class="nv">$cart_in_session</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nv">$new_cart_content</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='filters-misc-authenticate-user-id'>Authenticate User ID</h3>
<p><span class="new">New Filter since v2.6.0</span></p>

<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart/search?q=cocart_authenticate+in%3Afile&amp;type=Code">View source</a></p>

<p>Overrides the determined user ID when authenticating. <strong>NOTE</strong> This will only be active if not already authenticated.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_authenticate'</span><span class="p">,</span> <span class="k">function</span><span class="p">(){});</span>
</code></pre></div><h1 id='hooks'>Hooks</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_hooks.md">Edit on GitHub</a></p>

<p>The cart API has a number of action hooks that you can use to extend the API to your needs.</p>

<p>See the <a href="https://github.com/co-cart/co-cart-tweaks">tweaks plugin for examples</a>.</p>
<h3 id='hooks-misc-get-cart'>Get Cart</h3>
<p>Perhaps you need to apply something to the whole of the cart before it returns or send a notification. The choice is yours.</p>

<p>Use hook name: <code>cocart_get_cart</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$cart_contents</code></td>
<td>array</td>
<td>An array of items added to the cart.</td>
</tr>
</tbody></table>
<h3 id='hooks-misc-clear-cart'>Clear Cart</h3>
<p>Could be used to send a registered customer an email once they have emptied their cart. 😢</p>

<p>Use hook name: <code>cocart_cart_cleared</code></p>
<h3 id='hooks-misc-item-added'>Item Added</h3>
<p>You can do something once an item has been added to the cart.</p>

<p>Use hook name: <code>cocart_item_added_to_cart</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>The cart item key of the product in the cart.</td>
</tr>
<tr>
<td><code>$item_added</code></td>
<td>array</td>
<td>The details of the added item.</td>
</tr>
</tbody></table>
<h3 id='hooks-misc-item-removed'>Item Removed</h3>
<p>Use hook name: <code>cocart_item_removed</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$current_data</code></td>
<td>array</td>
<td>The details of the item removed.</td>
</tr>
</tbody></table>
<h3 id='hooks-misc-item-restored'>Item Restored</h3>
<p>Use hook name: <code>cocart_item_restored</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$current_data</code></td>
<td>array</td>
<td>The details of the item restored.</td>
</tr>
</tbody></table>
<h3 id='hooks-misc-item-quantity-changed'>Item Quantity Changed</h3>
<p>Should you need to change some other detail for the updated item.</p>

<p>Use hook name: <code>cocart_item_quantity_changed</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$cart_item_key</code></td>
<td>string</td>
<td>The cart item key of the product in the cart.</td>
</tr>
<tr>
<td><code>$new_data</code></td>
<td>array</td>
<td>The details of the item updated.</td>
</tr>
</tbody></table>
<h1 id='cocart-add-ons'>CoCart Add-ons</h1>
<p>CoCart Lite is just the tip of the iceberg. These add-ons take your headless build to the next level.</p>

<ul>
<li><a href="#cocart-add-ons-get-cart-enhanced">Get Cart Enhanced</a></li>
<li><a href="#cocart-add-ons-cocart-pro">CoCart Pro</a></li>
<li><a href="#cocart-add-ons-cocart-products">CoCart Products</a></li>
</ul>
<h2 id='cocart-add-ons-get-cart-enhanced'>Get Cart Enhanced</h2>
<p>This free add-on for CoCart enhances the data returned for the cart and the items added to it.</p>

<p>You can <a href="https://wordpress.org/plugins/cocart-get-cart-enhanced/">download it from WordPress.org</a></p>

<blockquote>
<p>Example of an empty cart with the add-on enabled.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cart_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Zero</span><span class="w"> </span><span class="err">means</span><span class="w"> </span><span class="err">no</span><span class="w"> </span><span class="err">cart</span><span class="w"> </span><span class="err">created</span><span class="w"> </span><span class="err">yet.</span><span class="w">
  </span><span class="nl">"cart_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"item_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"needs_shipping"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"needs_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subtotal_tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"discount_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"discount_tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cart_contents_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cart_contents_tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cart_contents_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"fee_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee_tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£0.00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"total_weight"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"extras"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"removed_items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"cross_sells"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='cocart-add-ons-cocart-pro'>CoCart Pro</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_cocart-pro.md">Edit on GitHub</a></p>

<p>CoCart Pro, an extension that completes the CoCart API package with more control over the cart from coupons, shipping methods to additional fees and more.</p>

<p><a href="https://cocart.xyz/pro/">Purchase here</a></p>

<p>The following table shows API versions present in each major version of CoCart Pro:</p>

<table><thead>
<tr>
<th>API Version</th>
<th>CoCart Pro Version</th>
<th>WC Version</th>
<th>WP Version</th>
<th>Documentation</th>
</tr>
</thead><tbody>
<tr>
<td><code>v1</code></td>
<td>1.0.x or later</td>
<td>4.0.x or later</td>
<td>4.4 or later</td>
<td><a href="pro.html">view api documentation</a></td>
</tr>
</tbody></table>
<h2 id='cocart-add-ons-cocart-products'>CoCart Products</h2>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_cocart-products.md">Edit on GitHub</a></p>

<p>CoCart Products provides a public API version of accessing products, categories, tags, attributes and even reviews without the need to authenticate. Designed more suited for the frontend so none of the shop manager only features are exploited and it comes with a few more parameters to filter and return the products the way you want or need.</p>

<p><a href="https://cocart.xyz/add-ons/products/">Purchase here</a></p>

<p>The following table shows API versions present in each major version of CoCart Products:</p>

<table><thead>
<tr>
<th>API Version</th>
<th>CoCart Version</th>
<th>WC Version</th>
<th>WP Version</th>
<th>Documentation</th>
</tr>
</thead><tbody>
<tr>
<td><code>v1</code></td>
<td>2.0.x or later</td>
<td>4.0.x or later</td>
<td>5.2 or later</td>
<td><a href="products.html">view api documentation</a></td>
</tr>
</tbody></table>
<h1 id='woocommerce-extensions'>WooCommerce Extensions</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_woocommerce-extensions.md">Edit on GitHub</a></p>

<p><a href="https://cocart.xyz/woocommerce-extensions/">These extensions</a> either support CoCart or is supported in <a href="#cocart-add-ons-cocart-pro">CoCart Pro</a>.</p>

<aside class="notice">
  Extensions are documented with examples only if they have there own configuration.
</aside>
<h2 id='woocommerce-extensions-mix-and-match-products'>Mix and Match Products</h2>
<p>Selling cases of wine? A dozen donuts? Fruit baskets? Six-packs of T-shirts? <a href="https://woocommerce.com/products/woocommerce-mix-and-match-products/">Mix and Match Products</a> is ideal for offering similar products in bulk containers. Perfect for encouraging customers to buy in bulk without forcing them to buy items that don’t interest them.</p>

<aside class="notice">
  Mix and Match Products supports CoCart since <strong>v1.10.0</strong>.
</aside>
<h3 id='woocommerce-extensions-mix-and-match-products-add-item-to-cart'>Add item to Cart</h3>
<p>Once you have setup &quot;<a href="https://woocommerce.com/products/woocommerce-mix-and-match-products/">Mix and Match Products</a>&quot; WooCommerce extension. Here is how you can add a container with the customers selected items and quantity.</p>

<blockquote>
<p>Example of adding a Mix and Match Product</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "product_id": "1102",
    "quantity": 2,
    "cart_item_data": {
        "mnm_config": [
            {
                "product_id": 987,
                "quantity": 1
            },
            {
                "product_id": 1001,
                "quantity": 2
            },
            {
                "product_id": 1003,
                "quantity": 3
            }
        ]
    }
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/add-item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1102</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">cart_item_data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">mnm_config</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">987</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1001</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1003</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">3</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'1102'</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">'mnm_config'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
          <span class="k">array</span><span class="p">(</span>
              <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">987</span><span class="p">,</span>
              <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
          <span class="p">),</span>
          <span class="k">array</span><span class="p">(</span>
              <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1001</span><span class="p">,</span>
              <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">2</span>
          <span class="p">),</span>
          <span class="k">array</span><span class="p">(</span>
              <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1003</span><span class="p">,</span>
              <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">3</span>
          <span class="p">)</span>
      <span class="p">)</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'1102'</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'mnm_config'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">987</span><span class="p">,</span>
                <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
            <span class="p">),</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1001</span><span class="p">,</span>
                <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">2</span>
            <span class="p">),</span>
            <span class="k">array</span><span class="p">(</span>
                <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1003</span><span class="p">,</span>
                <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">3</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"6563b32f054b00c7ed83ce4c9bb9eedd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"mnm_config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"987"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">987</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"1001"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1001</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"1003"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1003</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"mnm_contents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"8e9868e336b9bafe4722c31ade00a8f6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"a29fe85f04188ccc5a7106dec6f5ca89"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"4531239fed8c9875e0cce609b86be85a"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6563b32f054b00c7ed83ce4c9bb9eedd"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1102</span><span class="p">,</span><span class="w">
        </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"variation"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d88f7e7e5dfa45731252a34e3e64325c"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7013</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7013</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"product_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mix-and-match"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_nyp"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mix and Match Products"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mix and Match Products"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£2.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"8e9868e336b9bafe4722c31ade00a8f6"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"mnm_container"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6563b32f054b00c7ed83ce4c9bb9eedd"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mnm_child_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1102</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">987</span><span class="p">,</span><span class="w">
        </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"variation"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.28355</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.28355</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cupcake"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cupcake"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£1.28"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"a29fe85f04188ccc5a7106dec6f5ca89"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"mnm_container"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6563b32f054b00c7ed83ce4c9bb9eedd"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mnm_child_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1102</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"variation"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5671</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.28355</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Turquoise Cupcake"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Turquoise Cupcake"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£1.28"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"4531239fed8c9875e0cce609b86be85a"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"mnm_container"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6563b32f054b00c7ed83ce4c9bb9eedd"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mnm_child_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1102</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"variation"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.85065</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.28355</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buttercup and Bumblebee Cupcakes"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buttercup and Bumblebee Cupcakes"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£1.28"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='woocommerce-extensions-mix-and-match-products-retrieve-a-product'>Retrieve a product</h3>
<p>If you are using <a href="products.html">CoCart Products</a> API, any Mix and Match Product will return additional product data under a new array variable <code>mnm_data</code>. <a href="products.html#woocommerce-extensions-mix-and-match-products">View example</a>.</p>
<h2 id='woocommerce-extensions-name-your-price'>Name Your Price</h2>
<p>The <a href="https://woocommerce.com/products/name-your-price/">Name Your Price</a> plugin extension lets you be flexible in what price you are willing to accept for selected products. You can use this plugin to accept donations or to take a new approach to selling products. You can suggest a price to your customers and optionally enforce a minimum acceptable price, or leave it entirely in the hands of the customer.</p>

<aside class="notice">
  Name Your Price supports CoCart since <strong>v3.1.0</strong>.
</aside>
<h3 id='woocommerce-extensions-name-your-price-add-item-to-cart'>Add item to Cart</h3>
<p>Once you have setup &quot;<a href="https://woocommerce.com/products/name-your-price/">Name Your Price</a>&quot; for your particular products. Here is how you can apply the customers requested price for the product when adding to cart.</p>

<blockquote>
<p>Example of adding an item with a custom price.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "product_id": "129",
    "quantity": 1,
    "cart_item_data": {
      "nyp": 24
    }
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com/wp-json/cocart/v1/add-item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">129</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">cart_item_data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">nyp</span><span class="dl">"</span><span class="p">:</span> <span class="mi">24</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'129'</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'nyp'</span> <span class="o">=&gt;</span> <span class="mi">24</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'129'</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">'nyp'</span> <span class="o">=&gt;</span> <span class="mi">24</span>
    <span class="p">)</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div>
<blockquote>
<p>JSON response example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"nyp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1dc5e4af26b22d63451acb95d2b9deba"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">129</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variation"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"data_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5c1d5ca8bae6d4896cf1807cdf763f0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"line_subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_subtotal_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line_tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name your price"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name your price"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£24.00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='wp-config-php'>wp-config.php</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_wp-config.md">Edit on GitHub</a></p>

<p>For more handling over CoCart for your store or a client, you will find that using the <code>wp-config.php</code> file is the best place to setup certain conditions.</p>

<ul>
<li><a href="#wp-config-php-uninstall">Uninstall</a></li>
<li><a href="#wp-config-php-white-labelling">White Labelling</a></li>
</ul>

<aside class="notice">
Please make sure you are viewing the PHP language to copy any code snippet.
</aside>
<h2 id='wp-config-php-uninstall'>Uninstall</h2>
<p>To prevent any data loss when uninstalling CoCart from the backend and to ensure only the site owner can perform this action. You need to enable the ability to remove it.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="cd">/**
 * Allows the full un-installation of CoCart.
 */</span>
<span class="nb">define</span><span class="p">(</span> <span class="s1">'COCART_REMOVE_ALL_DATA'</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
</code></pre></div><h2 id='wp-config-php-white-labelling'>White Labelling</h2>
<p>If you are developing a headless store for a client and need to hide CoCart. Enabling white label mode comes in handy if that is something your would want.</p>

<p>Enabling this hides CoCart completely from the backend including the admin menu, plugin row links, plugin notices, WooCommerce inbox notices and WooCommerce System Status information.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="cd">/**
 * Hides CoCart from the WordPress dashboard.
 */</span>
<span class="nb">define</span><span class="p">(</span> <span class="s1">'COCART_WHITE_LABEL'</span><span class="p">,</span> <span class="kc">true</span> <span class="p">);</span>
</code></pre></div>
<div style="clear: both;"></div>
<h3 id='wp-config-php-white-labelling-load-cart-for-the-web'>Load Cart for the Web</h3>
<p><span class="new">New Filter since v2.8.2</span></p>

<p>In addition to white labelling, you can filter the parameter name <code>cocart-load-cart</code> `to what ever you like.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="cd">/**
 * Change the parameter name for loading the cart via the web.
 */</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_load_cart_query_name'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">'my-cart'</span><span class="p">;</span> <span class="p">});</span>
</code></pre></div><h1 id='demo-cocart'>Demo CoCart</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_demo.md">Edit on GitHub</a></p>

<p>If you don&#39;t yet have CoCart installed or a WordPress setup ready, you can test the results in your app using the demo site prepared.</p>

<p>When you do make a request, make sure you use <code>https://wp-demo.cocart.xyz/</code> as the domain to use the demo.</p>

<p><a href="https://cocart.xyz/add-ons/get-cart-enhanced/">Get Cart Enhanced</a> add-on is installed so some results may appear different to the example results you see throughout the documentation. It also gives you a look at what is possible using the <a href="#filters">filters</a> available to customize CoCart to your needs.</p>
<h2 id='demo-cocart-adding-an-item'>Adding an item</h2>
<p>Here is an example of adding a item to the cart via the demo.</p>
<h3 id='demo-cocart-adding-an-item-http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/add-item</h6>
  </div>
</div>

<p><a href="#items-add-item-to-cart">View more on add to cart</a></p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://wp-demo.cocart.xyz/wp-json/cocart/v1/add-item <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{
    "product_id": "183",
    "quantity": 1
  }'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://wp-demo.cocart.xyz/wp-json/cocart/v1/add-item</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">method</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">product_id</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">183</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'183'</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://wp-demo.cocart.xyz/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="s1">'183'</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://wp-demo.cocart.xyz/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre></div><h2 id='demo-cocart-authenticate-customer'>Authenticate Customer</h2>
<p>Currently on the demo, you can test authentication as a customer via the <a href="#authentication-basic-authentication">basic method</a>.</p>

<table><thead>
<tr>
<th>Username</th>
<th>Password</th>
</tr>
</thead><tbody>
<tr>
<td><code>demo</code></td>
<td><code>&amp;nm5y7^sf&amp;hm1D5MwKLgrQeC</code></td>
</tr>
</tbody></table>

<p>More authentication methods to test with on the demo will come in the future.</p>
<h2 id='demo-cocart-products'>Products</h2>
<p>Here is a table of products you can use to test with.</p>

<table><thead>
<tr>
<th>ID</th>
<th>Variation ID</th>
<th>Name</th>
<th>Type</th>
<th>Price</th>
<th>Sold Individually</th>
<th>Variation</th>
</tr>
</thead><tbody>
<tr>
<td><code>183</code></td>
<td>-</td>
<td>Beanie with Logo</td>
<td>Simple</td>
<td>£18.00</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><code>174</code></td>
<td>-</td>
<td>Album</td>
<td>Simple (Virtual)</td>
<td>£15.00</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td><code>185</code></td>
<td>-</td>
<td>WordPress Pennant</td>
<td>External</td>
<td>£11.05</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td><code>163</code></td>
<td><code>179</code></td>
<td>Hoodie</td>
<td>Variable</td>
<td>£42.00</td>
<td>No</td>
<td><code>&quot;attribute_pa_color&quot;: &quot;red&quot;, &quot;attribute_logo&quot;: &quot;No&quot;</code> <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>163</code></td>
<td><code>180</code></td>
<td>Hoodie</td>
<td>Variable</td>
<td>£45.00</td>
<td>No</td>
<td><code>&quot;attribute_pa_color&quot;: &quot;green&quot;, &quot;attribute_logo&quot;: &quot;No&quot;</code> <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>163</code></td>
<td><code>181</code></td>
<td>Hoodie</td>
<td>Variable</td>
<td>£45.00</td>
<td>No</td>
<td><code>&quot;attribute_pa_color&quot;: &quot;blue&quot;, &quot;attribute_logo&quot;: &quot;No&quot;</code> <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>329</code></td>
<td>-</td>
<td>The Last of Us Part 2 -</td>
<td>Simple (Name Your Price)</td>
<td>Suggested: £229</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>Ellie Edition</td>
<td></td>
<td>Minimum: £180</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>744</code></td>
<td>-</td>
<td>Netfoobar</td>
<td>Simple Subscription</td>
<td>£5.99 / month with a 14-day free trial.</td>
<td>Yes</td>
<td></td>
</tr>
</tbody></table>
<h2 id='demo-cocart-coupons'>Coupons</h2>
<p>Here is a table of coupons you can use to test with.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Coupon Type</th>
<th>Coupon Amount</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>get10offcart</code></td>
<td>Percentage discount</td>
<td>10</td>
<td>Takes 10% off the cart total.</td>
</tr>
<tr>
<td><code>£25OFF</code></td>
<td>Fixed cart discount</td>
<td>25</td>
<td>Takes £25 off the cart total.</td>
</tr>
</tbody></table>
<h1 id='libraries'>Libraries</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_libraries.md">Edit on GitHub</a></p>

<ul>
<li><a href="https://www.npmjs.com/package/@cocart/cocart-rest-api">JavaScript</a> Library</li>
</ul>
<div class="highlight"><pre class="highlight javascript tab-javascript--node"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">save</span> <span class="p">@</span><span class="nd">cocart</span><span class="sr">/cocart-rest-ap</span><span class="err">i
</span>
<span class="c1">// import CoCartAPI from "@cocart/cocart-rest-api"; // Supports ESM</span>
<span class="kd">const</span> <span class="nx">CoCartAPI</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@cocart/cocart-rest-api</span><span class="dl">"</span><span class="p">).</span><span class="k">default</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">CoCart</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CoCartAPI</span><span class="p">({</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://example.com</span><span class="dl">"</span>
<span class="p">});</span>
</code></pre></div>
<aside class="notice">
    Use the tabs in the top-right corner of this page to see how to install and use each library.
</aside>
<h1 id='tools'>Tools</h1>
<p><img src="images/github-633266a3.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_tools.md">Edit on GitHub</a></p>

<p>Some useful tools you can use to access the API include:</p>

<ul>
<li><a href="https://www.getpostman.com/">Postman</a> - A multi platform REST API GUI client (using Google Chrome or installing the app on Mac OS X or Windows).</li>
<li><a href="https://postwoman.io/">Postwoman</a> - A fast and beautiful API request builder (web alternative to Postman).</li>
<li><a href="https://extendsclass.com/rest-client-online.html">ExtendsClass</a> - Another web HTTP client.</li>
<li><a href="https://insomnia.rest/">Insomnia</a> - Similar to Postman using an app on Mac OS X, Windows or Ubuntu.</li>
<li><a href="https://mmattozzi.github.io/cocoa-rest-client/">CocoaRestClient</a> - A Mac OS X GUI client for interacting with the API.</li>
<li><a href="https://itunes.apple.com/us/app/paw-http-client/id584653203?mt=12">Paw HTTP Client</a> - Another HTTP client for Mac OS X.</li>
<li><a href="https://addons.mozilla.org/en-US/firefox/addon/restclient/">RESTClient, a debugger for RESTful web services</a> - Free Firefox add-on.</li>
<li><a href="https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo">Advanced REST client</a> - Free Google Chrome extension.</li>
<li><a href="https://hookbin.com/">Hookbin</a> - Another tool to test web hooks.</li>
</ul>

<p>If you use <strong>Postman</strong> you can use <a href="https://github.com/co-cart/cocart-postman-collections">these collections</a> made ready for you.</p>
<h1 id='learn-more'>Learn more</h1>
<p>Learn more about the REST API by checking the <a href="https://developer.wordpress.org/rest-api/" target="_blank">official WordPress REST API documentation</a>.</p>

<ul>
<li><a href="https://cocart.xyz/about/">About CoCart</a></li>
<li><a href="https://cocart.xyz/pro/">Pricing and FAQ</a></li>
<li><a href="https://cocart.xyz/community/">Community</a></li>
</ul>
<h1 id='changelog'>Changelog</h1>
<p>Below is the changelog for &quot;CoCart Lite&quot; documentation that matches with the version of the plugin release.</p>
<h2 id='changelog-doc-version-v2-9'>Doc Version v2.9</h2>
<ul>
<li>NEW: Added <strong>Libraries</strong> section.</li>
<li>NEW: Node.js examples added for our official library.</li>
</ul>
<h2 id='changelog-doc-version-v2-8-4'>Doc Version v2.8.4</h2>
<ul>
<li>Removed <code>&#39;Content-Type: application/json&#39;</code> from cURL examples.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-8-3-plugin-release-v2-8-2'>Doc Version v2.8.3 - Plugin Release v2.8.2</h3>
<ul>
<li>Corrected: Examples for use of the cart key global parameter.</li>
<li>Improved: Explaining the use of the cart key global parameter.</li>
<li>Dev: Added filter <code>cocart_load_cart_query_name</code> to allow developers add more white labelling when loading the cart via the web. <a href="?php#wp-config-php-white-labelling-load-cart-for-the-web">See example</a></li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-8-2'>Doc Version v2.8.2</h3>
<ul>
<li>Added warning notice for load for the web feature.</li>
<li>Updated FAQ.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-8-plugin-release-v2-6-to-v2-7'>Doc Version v2.8 - Plugin Release v2.6 to v2.7</h3>
<aside class="success">
    The whole of the documentation has been re-organized and content has been improved for those who are new to developing with an API. That also includes documentation for CoCart Pro.
</aside>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-7-plugin-release-v2-5-1'>Doc Version v2.7 - Plugin Release v2.5.1</h3>
<ul>
<li>Dev: Added filter <code>cocart_allow_origin</code> to set the origin header for added layer of security when you go into production.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-6-plugin-release-v2-5'>Doc Version v2.6 - Plugin Release v2.5</h3>
<ul>
<li>Improved: Information about adding a variation to the cart.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-5'>Doc Version v2.5</h3>
<ul>
<li>Added: More detail for setting a cart key.</li>
<li>Added: More JSON response examples that were missing.</li>
<li>Corrected: Same product ID used for all product type examples.</li>
<li>Improved: Add variable item to cart examples.</li>
<li>Improved: Table layouts in the Markdown source files.</li>
<li>Removed: Context that is no longer valid with current version of CoCart.</li>
<li>Updated: API versions table and Requirements.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-4'>Doc Version v2.4</h3>
<ul>
<li><strong>NEW</strong>: WooCommerce Extensions section added with Mix and Match Products and Name Your Price being the first.</li>
<li>Updated: Cookies section.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-3'>Doc Version v2.3</h3>
<ul>
<li>Added: New error responses.</li>
<li>Fixed: Corrected typos.</li>
<li>Tweaked: Improved code highlight theme for accessibility.</li>
<li>Tweaked: Links are now unique. Fixes issue with similar links generated.</li>
<li>Tweaked: Menu now has more padding.</li>
<li>Updated: Plugin requirements for CoCart.</li>
<li>Updated: Slate script to v2.7.0 which introduces the ability to copy code to clipboard.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-2-plugin-release-v2-2'>Doc Version v2.2 - Plugin Release v2.2</h3>
<ul>
<li>Dev: Added <code>cocart_disable_all_cors</code> filter to enable all cross origin headers.</li>
<li>Dev: Added filters to override the product name <code>cocart_item_added_product_name</code> and product title <code>cocart_item_added_product_title</code> when adding item to cart.</li>
<li>Dev: Added <code>cocart_item_added</code> filter to allow additional data to be returned when item is added to cart.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-1-plugin-release-v2-1-3'>Doc Version v2.1 - Plugin Release v2.1.3</h3>
<ul>
<li><strong>NEW</strong>: Added example for adding product with <a href="https://woocommerce.com/products/name-your-price/">Name Your Price</a> WooCommerce extension.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v2-0-plugin-release-v2-1-2'>Doc Version v2.0 - Plugin Release v2.1.2</h3>
<ul>
<li>Tweaked: WP API examples.</li>
<li>Removed: Warning notice in the introduction section.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-9'>Doc Version v1.9</h3>
<ul>
<li><strong>NEW</strong>: Added Cookie section.</li>
<li><strong>NEW</strong>: Added link to Postman collections.</li>
<li>Tweaked: Certain features or API&#39;s are tagged to identify that they are only available in v2.1</li>
<li>Removed: Persistent Cart documentation.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-8-plugin-release-v2-1'>Doc Version v1.8 - Plugin Release v2.1</h3>
<ul>
<li><strong>NEW</strong>: Added support for guest carts with a new endpoint to retrieve those carts.</li>
<li><strong>NEW</strong>: Added ability to load a cart from session.</li>
<li><strong>NEW</strong>: Can now add items to cart using a products SKU ID.</li>
<li><strong>NEW</strong>: When an item is updated, removed or restored... the cart totals are re-calculated.</li>
<li>Dev: Added filter <code>cocart_add_to_cart_validation</code> to allow plugin developers to pass their own validation before item is added to the cart.</li>
<li>Dev: Added filters to override the product name <code>cocart_product_name</code> and product title <code>cocart_product_title</code> when getting the cart contents.</li>
<li>Dev: Added filter <code>cocart_item_thumbnail_src</code> to override the source URL of the product thumbnail when getting the cart contents.</li>
<li>Dev: Added filter <code>cocart_add_to_cart_quantity</code> to override the quantity when adding an item.</li>
<li>Dev: Added filter <code>cocart_add_cart_item_data</code> so other plugins can pass cart item data when adding an item.</li>
<li>Dev: Added hook <code>cocart_user_switched</code> to allow something to happen if a user has switched.</li>
<li>Dev: Added hook <code>cocart_load_cart</code> to manipulate the merged cart before it set in session.</li>
<li>Dev: Added hook <code>cocart_load_cart_override</code> to manipulate the overriding cart before it set in session.</li>
<li>Dev: Added hook <code>cocart_item_added_updated_in_cart</code> for when an item was added again but updated in cart.</li>
<li>Dev: Added filter <code>cocart_cookie_supported</code> to allow developers to disable cookie session support if they don&#39;t/can&#39;t support cookies within their app.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-7'>Doc Version v1.7</h3>
<ul>
<li><strong>NEW</strong>: Added links to edit documentation at the top of each section.</li>
<li><strong>NEW</strong>: Added Getting Started section for those new to WordPress.</li>
<li>Corrected: Typos.</li>
<li>Tweaked: Menu</li>
<li>Tweaked: Brand colours and updated favicons.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-6-plugin-release-v2-0-13'>Doc Version v1.6 - Plugin Release v2.0.13</h3>
<ul>
<li><strong>NEW</strong>: Added <code>cocart_return_empty_cart</code> filter and example.</li>
<li><strong>NEW</strong>: Added <code>cocart_add_to_cart_sold_individually_quantity</code>and example.</li>
<li>Changed: Quantity parameter type to <code>float</code>.</li>
<li>Tweaked: Authentication notice moved to the top of it&#39;s sections content.</li>
<li>Tweaked: Menu, content and added helpful links.</li>
<li>Tweaked: Filter examples to be code highlighted correctly.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-5-plugin-release-v2-0-7'>Doc Version v1.5 - Plugin Release v2.0.7</h3>
<ul>
<li><strong>NEW</strong>: Added link to products add-on documentation under CoCart Pro.</li>
<li><strong>NEW</strong>: Added a little section explaining the body types when making a request.</li>
<li><strong>NEW</strong>: Added example to add item with custom cart item data.</li>
<li><strong>NEW</strong>: Added Demo section.</li>
<li>Improved: Authentication section.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-4'>Doc Version v1.4</h3>
<ul>
<li><strong>NEW</strong>: Added live chat so users can ask questions.</li>
<li>Made it clearer to understand about retrieving specific customers cart.</li>
<li>Improved the introduction a little.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-3'>Doc Version v1.3</h3>
<ul>
<li>Added languages for jQuery, PHP and WP API.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-2'>Doc Version v1.2</h3>
<ul>
<li>Added Work in Progress section.</li>
<li>Added Authentication section.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-1'>Doc Version v1.1</h3>
<ul>
<li>Added Index API.</li>
<li>Linked logo to documentation homepage.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v1-plugin-release-v2'>Doc Version v1 - Plugin Release v2</h3>
<ul>
<li>Updated for CoCart v2</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v0-5'>Doc Version v0.5</h3>
<ul>
<li>Added attribute table for view cart.</li>
<li>Added missing examples for count items and get cart totals.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v0-4-plugin-release-v1-0-5'>Doc Version v0.4 - Plugin Release v1.0.5</h3>
<ul>
<li>Project renamed to CoCart.</li>
<li>Changed support to contribution.</li>
<li>Updated links.</li>
<li>Added Insomnia as another tool you can use to access the API with.</li>
<li>Removed all languages except for cURL showing examples on how to use with official library wrappers due to authentication required whic CoCart does not.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v0-3-plugin-release-v1-0-4'>Doc Version v0.3 - Plugin Release v1.0.4</h3>
<ul>
<li>Official libraries are not supported as they require authentication which this API does not.</li>
<li>Removed installation instruction for official libraries.</li>
<li>Replaced logo to prevent confusion with the official REST API documentation.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v0-2-plugin-release-v1-0-1'>Doc Version v0.2 - Plugin Release v1.0.1</h3>
<ul>
<li>Updated endpoint for updating, restoring and removing items.</li>
</ul>
<h3 id='changelog-doc-version-v2-8-4-doc-version-v0-1-plugin-release-v1-0-0'>Doc Version v0.1 - Plugin Release v1.0.0</h3>
<ul>
<li>Initial Commit</li>
</ul>
<h1 id='contribute'>Contribute</h1>
<p>If you or your company use CoCart or appreciate the work I’m doing in open source, please consider <a href="https://cocart.xyz/pricing/?utm_medium=docs.cocart.xyz&amp;utm_source=docs&amp;utm_campaign=contribute&amp;utm_content=cocart-docs">purchasing CoCart Pro</a> where you not just get the full cart experience but also support me directly so I can continue maintaining CoCart and keep evolving the project.</p>

<p>Please also consider starring ✨ and sharing 👍 the <a href="https://github.com/co-cart/co-cart">project repo</a>! This helps the project getting known and grow with the community. 🙏</p>

<p>Thank you for your support! 🙌</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="javascript--node">Node.js</a>
                <a href="#" data-language-name="javascript--jquery">jQuery</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="php--wp-http-api">WP API</a>
          </div>
      </div>
    </div>

    </body>
</html>
