
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>CoCart Documentation v2.2</title>

    <link rel="icon" href="images/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" href="images/favicon-192x192.png" sizes="192x192" />
    <link rel="apple-touch-icon-precomposed" href="images/favicon-180x180.png" />
    <meta name="msapplication-TileImage" content="images/favicon-270x270.png" />
    <meta name="msapplication-TileColor" content="#6e60cc" />
    <meta name="theme-color" content="#6e60cc" />

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>

    <!-- Chatra {literal} -->
    <script>
    window.ChatraSetup = {
        colors: {
            buttonText: '#fff',
            buttonBg: '#9a6fc4',
            disabledOnMobile: true
        }
    };
    </script>
    <script>
        (function(d, w, c) {
            w.ChatraID = 'xwyESjfvnFXRtTM3N';
            var s = d.createElement('script');
            w[c] = w[c] || function() {
                (w[c].q = w[c].q || []).push(arguments);
            };
            s.async = true;
            s.src = 'https://call.chatra.io/chatra.js';
            if (d.head) d.head.appendChild(s);
        })(document, window, 'Chatra');
    </script>
    <!-- /Chatra {/literal} -->
    </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript--jquery&quot;,&quot;php&quot;,&quot;php--wp-http-api&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <a href="index.html"><img src="images/logo.png" class="logo" alt="Logo" /></a>
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="javascript--jquery">jQuery</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="php--wp-http-api">WP API</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#requirements" class="toc-h2 toc-link" data-title="Requirements">Requirements</a>
                  </li>
                  <li>
                    <a href="#request-response-format" class="toc-h2 toc-link" data-title="Request/Response Format">Request/Response Format</a>
                  </li>
                  <li>
                    <a href="#body-types" class="toc-h2 toc-link" data-title="Body Types">Body Types</a>
                  </li>
                  <li>
                    <a href="#errors" class="toc-h2 toc-link" data-title="Errors">Errors</a>
                  </li>
                  <li>
                    <a href="#parameters" class="toc-h2 toc-link" data-title="Parameters">Parameters</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#install-and-activate" class="toc-h2 toc-link" data-title="Install and Activate">Install and Activate</a>
                  </li>
                  <li>
                    <a href="#cocart-wordpress-plugin" class="toc-h2 toc-link" data-title="CoCart WordPress Plugin">CoCart WordPress Plugin</a>
                  </li>
                  <li>
                    <a href="#recommended-version" class="toc-h2 toc-link" data-title="Recommended Version">Recommended Version</a>
                  </li>
                  <li>
                    <a href="#github-download-clone-plugin" class="toc-h2 toc-link" data-title="GitHub - Download / Clone Plugin">GitHub - Download / Clone Plugin</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#error-responses" class="toc-h1 toc-link" data-title="Error Responses">Error Responses</a>
          </li>
          <li>
            <a href="#index" class="toc-h1 toc-link" data-title="Index">Index</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request" class="toc-h2 toc-link" data-title="HTTP request">HTTP request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#basic-authentication" class="toc-h2 toc-link" data-title="Basic Authentication">Basic Authentication</a>
                  </li>
                  <li>
                    <a href="#jwt-authentication" class="toc-h2 toc-link" data-title="JWT Authentication">JWT Authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cookie" class="toc-h1 toc-link" data-title="Cookie">Cookie</a>
          </li>
          <li>
            <a href="#cart" class="toc-h1 toc-link" data-title="Cart">Cart</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-cart-contents" class="toc-h2 toc-link" data-title="Get Cart Contents">Get Cart Contents</a>
                  </li>
                  <li>
                    <a href="#guest-customers" class="toc-h2 toc-link" data-title="Guest Customers">Guest Customers</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-cart" class="toc-h2 toc-link" data-title="Retrieve a Cart">Retrieve a Cart</a>
                  </li>
                  <li>
                    <a href="#clear-cart" class="toc-h2 toc-link" data-title="Clear Cart">Clear Cart</a>
                  </li>
                  <li>
                    <a href="#count-items" class="toc-h2 toc-link" data-title="Count Items">Count Items</a>
                  </li>
                  <li>
                    <a href="#calculate-cart-totals" class="toc-h2 toc-link" data-title="Calculate Cart Totals">Calculate Cart Totals</a>
                  </li>
                  <li>
                    <a href="#retrieve-cart-totals" class="toc-h2 toc-link" data-title="Retrieve Cart Totals">Retrieve Cart Totals</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#items" class="toc-h1 toc-link" data-title="Items">Items</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-item-to-cart" class="toc-h2 toc-link" data-title="Add Item to Cart">Add Item to Cart</a>
                  </li>
                  <li>
                    <a href="#add-variation-item-to-cart" class="toc-h2 toc-link" data-title="Add Variation Item to Cart">Add Variation Item to Cart</a>
                  </li>
                  <li>
                    <a href="#add-item-to-cart-custom-data" class="toc-h2 toc-link" data-title="Add Item to Cart + Custom Data">Add Item to Cart + Custom Data</a>
                  </li>
                  <li>
                    <a href="#add-item-to-cart-nyp" class="toc-h2 toc-link" data-title="Add Item to Cart + NYP">Add Item to Cart + NYP</a>
                  </li>
                  <li>
                    <a href="#remove-item-from-cart" class="toc-h2 toc-link" data-title="Remove Item from Cart">Remove Item from Cart</a>
                  </li>
                  <li>
                    <a href="#restore-item-to-cart" class="toc-h2 toc-link" data-title="Restore Item to Cart">Restore Item to Cart</a>
                  </li>
                  <li>
                    <a href="#update-item-in-cart" class="toc-h2 toc-link" data-title="Update Item in Cart">Update Item in Cart</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#load-cart-from-session" class="toc-h1 toc-link" data-title="Load Cart from Session">Load Cart from Session</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#properties" class="toc-h2 toc-link" data-title="Properties">Properties</a>
                  </li>
                  <li>
                    <a href="#load-for-the-web" class="toc-h2 toc-link" data-title="Load for the Web">Load for the Web</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#logout" class="toc-h1 toc-link" data-title="Logout">Logout</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request" class="toc-h2 toc-link" data-title="HTTP request">HTTP request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#extending-cocart" class="toc-h1 toc-link" data-title="Extending CoCart">Extending CoCart</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#filters" class="toc-h2 toc-link" data-title="Filters">Filters</a>
                  </li>
                  <li>
                    <a href="#hooks" class="toc-h2 toc-link" data-title="Hooks">Hooks</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cocart-add-ons" class="toc-h1 toc-link" data-title="CoCart Add-ons">CoCart Add-ons</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cocart-pro" class="toc-h2 toc-link" data-title="CoCart Pro">CoCart Pro</a>
                  </li>
                  <li>
                    <a href="#cocart-products" class="toc-h2 toc-link" data-title="CoCart Products">CoCart Products</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#demo-cocart" class="toc-h1 toc-link" data-title="Demo CoCart">Demo CoCart</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#adding-an-item" class="toc-h2 toc-link" data-title="Adding an item">Adding an item</a>
                  </li>
                  <li>
                    <a href="#authenticate-customer" class="toc-h2 toc-link" data-title="Authenticate Customer">Authenticate Customer</a>
                  </li>
                  <li>
                    <a href="#products" class="toc-h2 toc-link" data-title="Products">Products</a>
                  </li>
                  <li>
                    <a href="#coupons" class="toc-h2 toc-link" data-title="Coupons">Coupons</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#tools" class="toc-h1 toc-link" data-title="Tools">Tools</a>
          </li>
          <li>
            <a href="#learn-more" class="toc-h1 toc-link" data-title="Learn more">Learn more</a>
          </li>
          <li>
            <a href="#changelog" class="toc-h1 toc-link" data-title="Changelog">Changelog</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#doc-version-2-2-plugin-release-v2-2" class="toc-h2 toc-link" data-title="Doc Version 2.2 - Plugin Release v2.2">Doc Version 2.2 - Plugin Release v2.2</a>
                  </li>
                  <li>
                    <a href="#doc-version-2-1-plugin-release-v2-1-3" class="toc-h2 toc-link" data-title="Doc Version 2.1 - Plugin Release v2.1.3">Doc Version 2.1 - Plugin Release v2.1.3</a>
                  </li>
                  <li>
                    <a href="#doc-version-2-0-plugin-release-v2-1-2" class="toc-h2 toc-link" data-title="Doc Version 2.0 - Plugin Release v2.1.2">Doc Version 2.0 - Plugin Release v2.1.2</a>
                  </li>
                  <li>
                    <a href="#doc-version-1-9" class="toc-h2 toc-link" data-title="Doc Version 1.9">Doc Version 1.9</a>
                  </li>
                  <li>
                    <a href="#doc-version-1-8-plugin-release-v2-1" class="toc-h2 toc-link" data-title="Doc Version 1.8 - Plugin Release v2.1">Doc Version 1.8 - Plugin Release v2.1</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#contribute" class="toc-h1 toc-link" data-title="Contribute">Contribute</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href="https://github.com/co-cart/co-cart">CoCart Repository</a></li>
            <li><a href="https://github.com/co-cart/co-cart/issues?page=1&amp;state=open">CoCart Issues</a></li>
            <li><a href="https://github.com/co-cart/co-cart/blob/master/CONTRIBUTING.md">Contribute to CoCart</a></li>
            <li><a href="https://github.com/co-cart/co-cart-docs/blob/master/CONTRIBUTING.md">Contribute to Documentation</a></li>
            <li><a href="https://sebastiendumont.com">Developed by Sébastien Dumont</a></li>
            <li><a href="https://github.com/lord/slate">Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_introduction.md">Edit on GitHub</a></p>

<p>Welcome to the documentation site for CoCart, the free, open-source WordPress plugin that brings the power of WooCommerce&#39;s shopping cart via the REST API.</p>

<p>CoCart is designed in mind for those who want to create a headless WordPress site. Read <a href="https://cocart.xyz/what-does-headless-mean/">what does headless mean?</a></p>

<p>CoCart allows the cart to be created, read, updated, and deleted using requests in JSON format and standard HTTP verbs which are understood by most HTTP clients.</p>

<p>The current WordPress REST API integration for CoCart is version <code>v1</code> which takes a first-order position in endpoints.</p>

<p>The following table shows API versions present in each major version of CoCart:</p>

<table><thead>
<tr>
<th>API Version</th>
<th>CoCart Version</th>
<th>WC Version</th>
<th>WP Version</th>
</tr>
</thead><tbody>
<tr>
<td><code>v1</code></td>
<td>2.0.x or later</td>
<td>3.6.x or later</td>
<td>4.4 or later</td>
</tr>
</tbody></table>

<p>Prior to WooCommerce v3.6, CoCart shared WooCommerce&#39;s REST API. You can find the documentation about cart support for <code>/wc-api-v2</code> API separately.</p>

<table><thead>
<tr>
<th>API Version</th>
<th>WC Version</th>
<th>WP Version</th>
<th>Documentation</th>
</tr>
</thead><tbody>
<tr>
<td><code>wc-api-v2</code></td>
<td>3.0.x or later</td>
<td>4.4 or later</td>
<td><a href="wc-api-v2.html">wc-api-v2 docs</a></td>
</tr>
</tbody></table>
<h2 id='requirements'>Requirements</h2>
<p>To use the latest version of the CoCart you must be using:</p>

<ul>
<li>WordPress 5.0 or later.</li>
<li>WooCommerce 3.6.x or later.</li>
<li>Pretty permalinks in <code>Settings &gt; Permalinks</code> so that the custom endpoints are supported. <strong>Default permalinks will not work.</strong></li>
<li>You may make requests over either HTTP or HTTPS, but HTTPS is recommended where possible.</li>
</ul>

<aside class="notice">
  Please note that you are <strong>not</strong> required to install the <a href="https://wordpress.org/plugins/rest-api/">WP REST API (WP API)</a> plugin.
</aside>
<h2 id='request-response-format'>Request/Response Format</h2>
<p>The default response format is in JSON. Requests with a message-body use plain JSON to set or update resource attributes. Successful requests will return a <code>200 OK</code> HTTP status.</p>

<p>Some general information about response:</p>

<ul>
<li>Resource IDs are returned as integers.</li>
<li>Other amounts, such as item counts, are returned as integers.</li>
<li>Blank fields are generally included as <code>null</code> instead of being returned as blank strings or omitted.</li>
</ul>
<h2 id='body-types'>Body Types</h2>
<p>There are different types of body types when making a request. Make sure when using either of these body types that you have the correct <code>Content-Type</code> for the header.</p>

<table><thead>
<tr>
<th>Body Type</th>
<th>Content-Type</th>
</tr>
</thead><tbody>
<tr>
<td>form-data </td>
<td>application/json</td>
</tr>
<tr>
<td>raw </td>
<td>application/json</td>
</tr>
<tr>
<td>x-www-form-urlencoded</td>
<td>application/x-www-form-urlencoded</td>
</tr>
</tbody></table>

<aside class="notice">
  Body data must be passed correctly for the CoCart REST API to succeed.
</aside>

<p>I personally find using <strong>raw</strong> works best if you are passing an array of data for a <code>variation</code> or <code>cart_item_data</code>.</p>
<h2 id='errors'>Errors</h2>
<p>Occasionally you might encounter errors when accessing the REST API. There are four possible types:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Error Type</th>
</tr>
</thead><tbody>
<tr>
<td><code>400 Bad Request</code></td>
<td>Invalid request, e.g. using an unsupported HTTP method</td>
</tr>
<tr>
<td><code>401 Unauthorized</code></td>
<td>Authentication or permission error, e.g. incorrect API keys</td>
</tr>
<tr>
<td><code>404 Not Found</code></td>
<td>Requests to resources that don&#39;t exist or are missing</td>
</tr>
<tr>
<td><code>500 Internal Server Error</code></td>
<td>Server error</td>
</tr>
</tbody></table>

<blockquote>
<p>WP REST API error example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rest_no_route"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No route was found matching the URL and request method"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>CoCart error example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart_clear_cart_failed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Clearing the cart failed!"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Errors return both an appropriate HTTP status code and response object which contains a <code>code</code>, <code>message</code> and <code>data</code> attribute.</p>
<h2 id='parameters'>Parameters</h2>
<p>Almost all endpoints accept optional parameters which can be passed as a HTTP query string parameter, e.g. <code>POST /cocart/v1/item?cart_item_key=270edd69788dce200a3b395a6da6fdb7&amp;quantity=2</code>. All parameters are documented along each endpoint.</p>
<h1 id='getting-started'>Getting Started</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_getting-started.md">Edit on GitHub</a></p>
<h2 id='install-and-activate'>Install and Activate</h2>
<p>How to install and activate the CoCart plugin.</p>

<aside class="notice">
    <strong>New to WordPress?</strong><br/><br/>If you're new to WordPress I recommend getting started by downloading and using <a href="https://localwp.com/" target="_blank">Local</a>.
</aside>

<p>Visit the <a href="https://docs.woocommerce.com/document/server-requirements/">WooCommerce server requirements documentation</a> for a detailed list of server requirements.</p>
<h3 id='automatic-installation'>Automatic installation</h3>
<p>Automatic installation is the easiest option as WordPress handles the file transfers itself and you don’t need to leave your web browser. To do an automatic install of CoCart, log in to your WordPress dashboard, navigate to the Plugins menu and click <strong>Add New</strong>.</p>

<p>In the search field type “CoCart” and click Search Plugins. Once you’ve found the plugin you can view details about it such as the point release, rating and description. Most importantly of course, you can install it by simply clicking “Install Now”.</p>
<h2 id='cocart-wordpress-plugin'>CoCart WordPress Plugin</h2>
<p>CoCart is a free, open-source WordPress plugin that provides a REST API for WooCommerce to access the front-end features of your store.</p>
<h2 id='recommended-version'>Recommended Version</h2>
<p>For the most stable and performance experience, it’s recommended that you use the most recent version of the plugin. You can get the <a href="https://wordpress.org/plugins/cart-rest-api-for-woocommerce/">latest releases here</a>.</p>

<p>Of course, as new features are in development, feel free to check out the latest develop branch or check out any <a href="https://github.com/co-cart/co-cart/releases">other release</a>.</p>
<h2 id='github-download-clone-plugin'>GitHub - Download / Clone Plugin</h2>
<p>CoCart is available on GitHub: <a href="https://github.com/co-cart/co-cart">https://github.com/co-cart/co-cart</a></p>

<p>You can download the plugin or clone the plugin from GitHub.</p>

<p>Add the downloaded/cloned plugin to your WordPress plugin directory. On a typical WordPress install, this is located at <code>/wp-content/plugins</code>.</p>

<aside class="notice">
    <strong>Install Directory</strong><br/><br/>To minimize risk of unintended behaviour, it’s best for your plugin directory to be "cart-rest-api-for-woocommerce" and not something else, like "cart-rest-api-for-woocommerce-master" or "cart-rest-api-for-woocommerce-develop".
</aside>
<h1 id='error-responses'>Error Responses</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_errors.md">Edit on GitHub</a></p>

<p>You might encounter an error when using CoCart. These error responses explain what might have happened.</p>

<table><thead>
<tr>
<th>Error Status</th>
<th>Error Response</th>
</tr>
</thead><tbody>
<tr>
<td><code>cocart_cannot_read_cart</code></td>
<td>Cannot read cart!</td>
</tr>
<tr>
<td><code>cocart_customer_missing</code></td>
<td>Customer ID is required!</td>
</tr>
<tr>
<td><code>cocart_clear_cart_failed</code></td>
<td>Clearing the cart failed!</td>
</tr>
<tr>
<td><code>cocart_product_id_required</code></td>
<td>Product ID number is required!</td>
</tr>
<tr>
<td><code>cocart_product_id_not_numeric</code></td>
<td>Product ID must be numeric!</td>
</tr>
<tr>
<td><code>cocart_quantity_not_numeric</code></td>
<td>Quantity must be numeric!</td>
</tr>
<tr>
<td><code>cocart_product_does_not_exist</code></td>
<td>Warning: This product does not exist!</td>
</tr>
<tr>
<td><code>cocart_product_sold_individually</code></td>
<td>You cannot add another &quot;%s&quot; to your cart. <i class="label label-info">%s is the product name</i></td>
</tr>
<tr>
<td><code>cocart_cannot_be_purchased</code></td>
<td>Sorry, this product cannot be purchased.</td>
</tr>
<tr>
<td><code>cocart_product_out_of_stock</code></td>
<td>You cannot add &quot;%s&quot; to the cart because the product is out of stock. <i class="label label-info">%s is the product name</i></td>
</tr>
<tr>
<td><code>cocart_not_enough_in_stock</code></td>
<td>You cannot add a quantity of %1$s for &quot;%2$s&quot; to the cart because there is not enough stock. - only %3$s remaining! <i class="label label-info">%1$s is the quantity requested, %2$s is the product name. %3$s is the stock remaining.</i></td>
</tr>
<tr>
<td><code>cocart_not_enough_stock_remaining</code></td>
<td>You cannot add that amount to the cart &mdash; we have %1$s in stock and you already have %2$s in your cart.</td>
</tr>
<tr>
<td><code>cocart_cannot_add_to_cart</code></td>
<td>You cannot add &quot;%s&quot; to your cart. <i class="label label-info">%s is the product name</i></td>
</tr>
<tr>
<td><code>cocart_can_not_remove_item</code></td>
<td>Unable to remove item from cart.</td>
</tr>
<tr>
<td><code>cocart_can_not_restore_item</code></td>
<td>Unable to restore item to the cart.</td>
</tr>
<tr>
<td><code>cocart_can_not_update_item</code></td>
<td>Unable to update item quantity in cart.</td>
</tr>
<tr>
<td><code>cocart_cart_item_key_required</code></td>
<td>Cart item key is required!</td>
</tr>
<tr>
<td><code>cocart_no_items</code></td>
<td>No items in cart.</td>
</tr>
<tr>
<td><code>cocart_item_not_in_cart</code></td>
<td>Item specified does not exist in cart.</td>
</tr>
</tbody></table>
<h1 id='index'>Index</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_index.md">Edit on GitHub</a></p>

<p>By default, the API provides information about all available endpoints on the site. Authentication is not required to access the API index.</p>

<aside class="notice">
    Some endpoints are only available in CoCart Pro or via add-on.
</aside>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>/wp-json/cocart/v1</h6>
    </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X GET https://example.com/wp-json/cocart/v1 <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"routes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"/cocart/v1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/add-item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the product ID."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The quantity amount of the item to add to cart."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"variation_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the variation ID."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"variation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"cart_item_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"refresh_totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Re-calculates the totals once item has been added or the quantity of the item has increased."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/calculate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"return"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the cart totals once calculated."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/calculate"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/clear"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/clear"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/count-items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"return"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"numeric"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/count-items"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/get-cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"thumb"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the URL of the product image thumbnail."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/get-cart"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/get-cart/(?P&lt;id&gt;[</span><span class="se">\\</span><span class="s2">d]+)"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the customer."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"thumb"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the URL of the product image thumbnail."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/item"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DELETE"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"cart_item_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the item in the cart."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"refresh_totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Re-calculates the totals once item has been updated."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"return_cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the whole cart to reduce requests."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"cart_item_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the item in the cart."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"refresh_totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Re-calculates the totals once item has been updated."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"return_cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the whole cart to reduce requests."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"DELETE"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"cart_item_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unique identifier for the item in the cart."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"refresh_totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Re-calculates the totals once item has been updated."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"return_cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the whole cart to reduce requests."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"html"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/calculate/fees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"set_session"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sets the cart fees in session once calculated."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"return"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the cart fees once calculated."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/calculate/fees"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/calculate/shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Country is a required minimum to calculate shipping."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"State is optional but maybe required under some circumstances."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enter City to specify location in country."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enter postcode / ZIP to narrow down location for more accurate shipping cost."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"return_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"If set to true it will return shipping methods available once shipping is calculated."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/calculate/shipping"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/customer"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DELETE"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Coupon to apply to the cart."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"DELETE"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"coupon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Coupon to remove from the cart."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/coupon"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/check-coupons"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/check-coupons"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/cross-sells"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"thumb"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Returns the URL of the product image thumbnail."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/cross-sells"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/fees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DELETE"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name of the fee."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amount for the fee."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"taxable"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Determins if the fee is taxable."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"tax_class"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The tax class the fee applies to."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"DELETE"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/fees"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/payment-methods"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"gateway_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/payment-methods"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/quantities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/quantities"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/removed-items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/removed-items"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/shipping-methods"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"POST"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"recurring_cart_key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recurring cart key is required only to get shipping methods for that subscription."</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"POST"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"method_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="s2">"instance_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/shipping-methods"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/discount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/discount"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/discount/coupon-totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/discount/coupon-totals"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/discount/coupon-tax"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/discount/coupon-tax"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/fee"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/fee"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/fee/tax"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/fee/tax"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"calculate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/shipping"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/shipping/tax"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"calculate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/shipping/tax"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/subtotal"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/subtotal/tax"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/subtotal/tax"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/tax"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/tax"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/totals/total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/totals/total"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"/cocart/v1/weight"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cocart/v1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"GET"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"GET"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/cocart/v1/weight"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"up"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/wp-json/"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='authentication'>Authentication</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_authentication.md">Edit on GitHub</a></p>

<aside class="warning">
  Authentication is <strong>ONLY</strong> required for registered customers, <strong>NOT</strong> guest customers and that you will be passing the customers username and password or token depending on the authentication method you are using. If you are authenticating a registered customer, it's important that you keep doing so with <strong>all routes</strong> from the beginning so the cart in session remains the same. If you <strong>DO NOT</strong> logout of the customer before authenticate another customer, you will still be seeing the previous customers cart and details.
</aside>

<p>CoCart can be authenticated by various methods with the WP REST API. First being via the <a href="https://woocommerce.github.io/woocommerce-rest-api-docs/#rest-api-keys">REST API Keys</a> in <a href="https://woocommerce.github.io/woocommerce-rest-api-docs/#authentication">WooCommerce</a>. Though this method is designed for the backend with their REST API, with some custom coding you can make it work for the frontend with CoCart.</p>

<p>Checkout my guide on <a href="https://cocart.xyz/authenticating-with-woocommerce-heres-how-you-can-do-it/">how to authenticate with WooCommerce</a>.</p>

<p>It is also possible to authenticate using any of the following WP REST API authentication methods.</p>

<ul>
<li><a href="#basic-authentication">Basic Authentication</a></li>
<li><a href="#jwt-authentication">JWT Authentication for WP REST API</a></li>
</ul>

<p>The WordPress REST API incorporates a method called <a href="https://codex.wordpress.org/WordPress_Nonces">nonces</a> to deal with <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery">CSRF</a> issues. This ensures that all activities on the website remain segregated. This is because the WordPress REST API just like the WooCommerce REST API is designed for the back-end.</p>

<p>CoCart however, is designed for the front-end so for any CoCart requests made, the <a href="https://developer.wordpress.org/rest-api/using-the-rest-api/authentication/">cookie authentication</a> is disabled allowing the ability to authenticate in any code language without fault.</p>

<p>If you have tested other authentication plugins or methods, please let me know via the <a href="https://cocart.xyz/feedback/">feedback page</a> so that I can add it to the list.</p>

<p>Thank you. 😄</p>
<h2 id='basic-authentication'>Basic Authentication</h2>
<p><a href="https://en.wikipedia.org/wiki/Basic_access_authentication">What is the Basic Authentication method?</a></p>

<p>If you use the Basic Authentication method (which you may find the easiest to use for your customers to login with), please make sure that you have SSL enabled when making requests with any of the CoCart API routes. Check out the example adding an item to the cart as a registered customer.</p>

<aside class="notice">
  Replace the username and password with the customers login details.
</aside>
<h3 id='steps-to-follow'>Steps to follow</h3>
<ol>
<li><a href="https://github.com/WP-API/Basic-Auth">Download and Install Basic Auth plugin</a></li>
</ol>
<pre class="highlight shell tab-shell"><code>curl -X POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  -u username:password <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "product_id": 1722,
    "quantity": 1
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="s1">'username:password'</span><span class="p">),</span>
  <span class="p">},</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"product_id"</span> <span class="p">:</span> <span class="mi">1722</span><span class="p">,</span>
    <span class="s2">"quantity"</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1722</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'Accept: application/json'</span><span class="p">,</span>
  <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
  <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="s1">'Authorization: Basic '</span> <span class="o">.</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nv">$username</span> <span class="o">.</span> <span class="s1">':'</span> <span class="o">.</span> <span class="nv">$password</span><span class="p">)</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="nv">$headers</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s1">'Basic '</span> <span class="o">.</span> <span class="nb">base64_encode</span><span class="p">(</span> <span class="s1">'bob:1234xyz'</span><span class="p">),</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1722</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">90</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"404dcc91b2aeaa7caa47487d1483e48a"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"404dcc91b2aeaa7caa47487d1483e48a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="mi">1722</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax_data"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"subtotal"</span><span class="p">:[],</span><span class="w">
      </span><span class="s2">"total"</span><span class="p">:[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_subtotal_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_total"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='authentication-issues'>Authentication issues?</h3>
<p>If the authentication header is not passing or authentication is not working you, adding a Rewrite rule to your <code>.htaccess</code> file might help.</p>

<blockquote>
<p>.htaccess Rewrite rule</p>
</blockquote>
<pre class="highlight plaintext"><code>&lt;IfModule mod_rewrite.c&gt;
RewriteEngine on
RewriteCond %{HTTP:Authorization} ^(.*)
RewriteRule ^(.*) - [E=HTTP_AUTHORIZATION:%1]
&lt;/IfModule&gt;
</code></pre><h2 id='jwt-authentication'>JWT Authentication</h2>
<p>JWT is a simple web token authentication method for WP REST API. To know more about JSON Web Tokens, please visit <a href="https://jwt.io">https://jwt.io</a>.</p>

<p>It&#39;s important that you follow the installation and configurations exactly for this method to work. <a href="https://github.com/Tmeister/wp-api-jwt-auth#installation--configuration">See instructions</a>.</p>
<h3 id='steps-to-follow-2'>Steps to follow</h3>
<ol>
<li><a href="https://wordpress.org/plugins/jwt-authentication-for-wp-rest-api/">Download and Install JWT Authentication plugin</a> from WordPress.org.</li>
<li><a href="https://github.com/Tmeister/wp-api-jwt-auth#configurate-the-secret-key">Configure the Secret Key</a>.</li>
<li><a href="https://github.com/Tmeister/wp-api-jwt-auth#usage">Get your token</a>.</li>
</ol>

<aside class="notice">
  Once you get the token, you must store it somewhere in your application, e.g. in a cookie or using localstorage. From this point, you should pass this token to every CoCart API call.
</aside>
<pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="s2">"headers"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Bearer "</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"product_id"</span> <span class="p">:</span> <span class="mi">1722</span><span class="p">,</span>
    <span class="s2">"quantity"</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1722</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'Accept: application/json'</span><span class="p">,</span>
  <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
  <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="s1">'Authorization: Bearer '</span> <span class="o">.</span> <span class="nv">$token</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="nv">$headers</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><h1 id='cookie'>Cookie</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_cookie.md">Edit on GitHub</a></p>

<p>CoCart only creates and uses one cookie per session/customer/device. The cookie name starts with <code>wp_cocart_session_</code> followed by the WordPress <strong>COOKIEHASH</strong>. The cookie name can be changed using <a href="#change-cart-session-cookie-name">this filter</a>.</p>

<p>If left <a href="#cookie-supported">enabled</a>, this cookie will be used to identity the customers cart if they are not logged in. The cookie is read on the server and returns the cart stored in the cookie.</p>

<p>The cookie stores <strong>4</strong> key values.</p>

<ul>
<li>Cart Key/Customer ID</li>
<li>Cart expiring timestamp.</li>
<li>Cart expiration timestamp.</li>
<li>Cart hash (Customer ID and Cart Expiration Timestamp encrypted).</li>
</ul>

<p>If the framework your using is not able to read the cookie, then there are a few things you can do.</p>

<ol>
<li>Look for a cookie support add-on for your framework. React for example has one called <a href="https://www.npmjs.com/package/react-cookies">react-cookies</a>.</li>
<li>Read the cookie value yourself and explode it by <code>||</code> and get the first key value. Once you have that value you can use it to set the <code>cart_key</code> parameter on all API requests. This will use the <a href="#set-cart-id-method">Set Cart ID Method</a>.</li>
</ol>
<h1 id='cart'>Cart</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_cart.md">Edit on GitHub</a></p>

<p>The cart API is powerful and allows you to view the cart in session, add new items, update the quantity of an item and delete individual items from the cart.</p>

<p>Using the individual endpoints and their properties, you can control what you need and what is returned when the request is finished.</p>
<h2 id='get-cart-contents'>Get Cart Contents</h2>
<p>This API returns the contents of the cart for a guest customer or logged in customer.</p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>thumb</code></td>
<td>bool</td>
<td>Set as true to return the product thumbnail for each item.</td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/get-cart</h6>
  </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X GET https://example.com/wp-json/cocart/v1/get-cart <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/get-cart'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_hash"</span><span class="p">:</span><span class="s2">"b5c1d5ca8bae6d4896cf1807cdf763f0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_subtotal_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_total"</span><span class="p">:</span><span class="mf">14.4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{},</span><span class="w">
    </span><span class="s2">"product_name"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_title"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£18"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Here is what to do to include the product thumbnail.</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET https://example.com/wp-json/cocart/v1/get-cart <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "thumb": true
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"thumb"</span> <span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'thumb'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'thumb'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
  <span class="p">]</span> <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/get-cart'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_hash"</span><span class="p">:</span><span class="s2">"b5c1d5ca8bae6d4896cf1807cdf763f0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_subtotal_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_total"</span><span class="p">:</span><span class="mf">14.4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{},</span><span class="w">
    </span><span class="s2">"product_name"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_title"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£18"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_image"</span><span class="p">:</span><span class="s2">"https://example.com/wp-content/uploads/2019/06/vneck-tee.jpg"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='guest-customers'>Guest Customers</h2>
<p><span class="new">Supported in v2.1</span></p>

<p>For guest customers there are two methods available for developers to use. The first method uses a cookie and handles everything for you. The second method allows you to set the cart ID yourself.</p>
<h3 id='cookie-method'>Cookie Method</h3>
<p>Once a new customer has added the first item, a cookie is generated that stores the cart key and cart expiration. This cookie is used in order to load the cart again for that individual customer. No parameters are required to pass as it is all done in the background.</p>
<h3 id='set-cart-id-method'>Set Cart ID Method</h3>
<p>This method allows you to set the cart key yourself via the <code>cart_key</code> parameter which must be passed with each API request made. This sets the ID in session allowing to fetch the cart before changes are made.</p>

<p>Here are a few examples on how to pass the cart ID with each API request.</p>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET CART</i>
    <h6>/wp-json/cocart/v1/get-cart/?cart_key=9e18904482b4faf8762361836a83b93d</h6>
  </div>
</div>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">ADD ITEM</i>
    <h6>/wp-json/cocart/v1/add-item/?cart_key=9e18904482b4faf8762361836a83b93d&product_id=32</h6>
  </div>
</div>
<h2 id='retrieve-a-cart'>Retrieve a Cart</h2>
<p>This API allows you to retrieve a cart stored in the database that is in session.</p>

<aside class="warning">
  This API does not load the cart into session for the customer. Carts for guest customers are loaded via a cookie stored on their device or set by a cart ID. Carts for registered customers are loaded via the database as normal. See <a href="#guest-customers">Guest Customers</a> for more details.
</aside>

<aside class="notice">
  If the cart you requested does not return then the cart in session either does not exist or has expired. By default, carts are stored in the database for 30 days from the last cart update.
</aside>
<h3 id='http-request-2'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d</h6>
  </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X GET https://example.com/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/get-cart/9e18904482b4faf8762361836a83b93d'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"19ca14e7ea6328a42e0eb13d585e4c22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data_hash"</span><span class="p">:</span><span class="s2">"b5c1d5ca8bae6d4896cf1807cdf763f0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_subtotal_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_total"</span><span class="p">:</span><span class="mf">14.4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{},</span><span class="w">
    </span><span class="s2">"product_name"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_title"</span><span class="p">:</span><span class="s2">"Vneck Tshirt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"£18"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='clear-cart'>Clear Cart</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_clear-cart.md">Edit on GitHub</a></p>

<p>This API helps you clear the contents of the cart.</p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/clear</h6>
  </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X POST https://example.com/wp-json/cocart/v1/clear <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/clear"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/clear"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/clear'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Cart is cleared."</span><span class="w">
</span></code></pre><h2 id='count-items'>Count Items</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_count-items.md">Edit on GitHub</a></p>

<p>This API helps you count the items in the cart.</p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/count-items</h6>
  </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X GET https://example.com/wp-json/cocart/v1/count-items <span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/count-items"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/count-items"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/count-items'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mi">1</span><span class="w">
</span></code></pre><h2 id='calculate-cart-totals'>Calculate Cart Totals</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_calculate.md">Edit on GitHub</a></p>

<p>This API helps you calculate the cart totals. You can also request to return the totals once calculated to reduce API requests and use the <a href="#get-cart-totals">Get Cart Totals</a> properties.</p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>return</code></td>
<td>bool</td>
<td>Set as true to return the totals once calculated. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-post">POST</i>
        <h6>/wp-json/cocart/v1/calculate</h6>
    </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X POST https://example.com/wp-json/cocart/v1/calculate <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/calculate"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/calculate"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/calculate'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Cart totals have been calculated."</span><span class="w">
</span></code></pre><h2 id='retrieve-cart-totals'>Retrieve Cart Totals</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_totals.md">Edit on GitHub</a></p>

<p>This API helps you retrieve the cart totals. You can also return the totals pre-formatted to save you time applying the currency symbol.</p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>string</td>
<td>Unique identifier for the cart. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>html</code></td>
<td>bool</td>
<td>Set as true to return the totals as strings with currency symbol. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/totals</h6>
  </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X GET https://example.com/wp-json/cocart/v1/totals <span class="se">\</span>
 -H <span class="s2">"Content-Type: application/json"</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/totals"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/totals"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/totals'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="s2">"123.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subtotal_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping_total"</span><span class="p">:</span><span class="s2">"33.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping_tax"</span><span class="p">:</span><span class="mf">6.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">6.6</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"discount_total"</span><span class="p">:</span><span class="mf">24.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"discount_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cart_contents_total"</span><span class="p">:</span><span class="s2">"98.40"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cart_contents_tax"</span><span class="p">:</span><span class="mf">8.4</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cart_contents_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"fee_total"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee_taxes"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="s2">"146.40"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_tax"</span><span class="p">:</span><span class="mi">15</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Here is what to do to return the totals formatted with currency symbol.</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET https://example.com/wp-json/cocart/v1/totals <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "html": true
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/totals"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"html"</span> <span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'html'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/totals"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'html'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/totals'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="s2">"£123.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subtotal_tax"</span><span class="p">:</span><span class="s2">"£8.40"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping_total"</span><span class="p">:</span><span class="s2">"£33.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping_tax"</span><span class="p">:</span><span class="s2">"£6.60"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"shipping_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">6.6</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"discount_total"</span><span class="p">:</span><span class="s2">"£24.60"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"discount_tax"</span><span class="p">:</span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cart_contents_total"</span><span class="p">:</span><span class="s2">"£98.40"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cart_contents_tax"</span><span class="p">:</span><span class="s2">"£8.40"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cart_contents_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"12"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.4</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"fee_total"</span><span class="p">:</span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee_tax"</span><span class="p">:</span><span class="s2">"£0.00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee_taxes"</span><span class="p">:[],</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="s2">"£146.40"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_tax"</span><span class="p">:</span><span class="s2">"£15.00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='items'>Items</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_items.md">Edit on GitHub</a></p>

<p>The most important part of CoCart is adding items to the cart.</p>

<p>Once items are in the cart, customers always make decisions on which items they want to buy now, change the quantities of a particular item and which items they should remove.</p>

<p>The following API&#39;s help with all of that.</p>
<h2 id='add-item-to-cart'>Add Item to Cart</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_add-to-cart.md">Edit on GitHub</a></p>

<p>This API helps you to add an item to the cart. You can also request to return the whole cart once item is added to reduce API requests and use the <a href="#get-cart-contents">Get Cart Content</a> properties.</p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>product_id</code></td>
<td>integer</td>
<td>The product ID is required in order to add a product to the cart. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>float</td>
<td>Set the quantity of the product you want to add to the cart. <i class="label label-info">Default is 1</i></td>
</tr>
<tr>
<td><code>variation_id</code></td>
<td>integer</td>
<td>Used to set the variation of the product being added to the cart. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>variation</code></td>
<td>array</td>
<td>Attribute values.</td>
</tr>
<tr>
<td><code>cart_item_data</code></td>
<td>array</td>
<td>Used to apply extra cart item data we want to pass with the item. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>return_cart</code></td>
<td>bool</td>
<td>Set as true to return the cart once item added. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/add-item</h6>
  </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "product_id": 1722,
    "quantity": 1
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"product_id"</span> <span class="p">:</span> <span class="mi">1722</span><span class="p">,</span>
    <span class="s2">"quantity"</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1722</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1722</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">90</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"404dcc91b2aeaa7caa47487d1483e48a"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"404dcc91b2aeaa7caa47487d1483e48a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="mi">1722</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variation"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax_data"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"subtotal"</span><span class="p">:[],</span><span class="w">
      </span><span class="s2">"total"</span><span class="p">:[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"line_subtotal"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_subtotal_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_total"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"line_tax"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='add-variation-item-to-cart'>Add Variation Item to Cart</h2>
<p>Variation products require two things in order to add to the cart correctly. First is the <code>variation_id</code>. The second is the attributes of that <code>variation</code>. You need to pass both parameters in order for a valid variable product to be added to the cart. Without the attributes of the variation, there is no way to identify the variation added.</p>
<h3 id='what-are-attributes'>What are attributes?</h3>
<p>Attributes are what identify a variation of a variable product from the colour of a t-shirt to the size.</p>

<p>Attributes can be managed in two ways. Globally or via the product if they are custom. It&#39;s important to know what attributes are used for the variation of the product as a global attribute has this prefix <code>attribute_pa_</code> while a custom attribute is just  <code>attribute_</code>.</p>

<aside class="warning">
  You can not add a simple product with attributes like a variation! If you wish to pass attribute date for a simple product, use the `cart_item_data` parameter instead.
</aside>
<pre class="highlight shell tab-shell"><code>curl -X POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "product_id": 1723,
    "quantity": 1,
    "variation_id": 1820,
    "variation": {
      "attribute_pa_color": "red",
    }
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"product_id"</span><span class="p">:</span> <span class="mi">1722</span><span class="p">,</span>
    <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"variation_id"</span><span class="p">:</span> <span class="mi">1820</span><span class="p">,</span>
    <span class="s2">"variation"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"attribute_pa_color"</span><span class="p">:</span> <span class="s2">"red"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1722</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s1">'variation_id'</span> <span class="o">=&gt;</span> <span class="mi">1820</span><span class="p">,</span>
  <span class="s1">'variation'</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s1">'attribute_pa_color'</span><span class="o">:</span> <span class="s1">'red'</span>
  <span class="p">}</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1722</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s1">'variation_id'</span> <span class="o">=&gt;</span> <span class="mi">1820</span><span class="p">,</span>
    <span class="s1">'variation'</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s1">'attribute_pa_color'</span><span class="o">:</span> <span class="s1">'red'</span>
    <span class="p">}</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">90</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre><h2 id='add-item-to-cart-custom-data'>Add Item to Cart + Custom Data</h2>
<p>Need to pass custom data? This example will show you how.</p>
<pre class="highlight shell tab-shell"><code>curl -X POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "product_id": 1722,
    "quantity": 1,
    "cart_item_data": {
      "engraved_name": "Sébastien Dumont",
      "engraved_size": "Medium"
    }
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"product_id"</span> <span class="p">:</span> <span class="mi">1722</span><span class="p">,</span>
    <span class="s2">"quantity"</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"cart_item_data"</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s2">"engraved_name"</span> <span class="p">:</span> <span class="s2">"Sébastien Dumont"</span><span class="p">,</span>
      <span class="s2">"engraved_size"</span> <span class="p">:</span> <span class="s2">"Medium"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1722</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'engraved_name'</span> <span class="o">=&gt;</span> <span class="s1">'Sébastien Dumont'</span><span class="p">,</span>
    <span class="s1">'engraved_size'</span> <span class="o">=&gt;</span> <span class="s1">'Medium'</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">1722</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">'engraved_name'</span> <span class="o">=&gt;</span> <span class="s1">'Sébastien Dumont'</span><span class="p">,</span>
      <span class="s1">'engraved_size'</span> <span class="o">=&gt;</span> <span class="s1">'Medium'</span>
    <span class="p">)</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">90</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre><h2 id='add-item-to-cart-nyp'>Add Item to Cart + NYP</h2>
<p>If you have setup the popular &quot;<a href="https://woocommerce.com/products/name-your-price/">Name Your Price</a>&quot; WooCommerce extension for particular products. Here is how you can apply the customers requested price for the product when adding to cart.</p>

<aside class="notice">
  You must be using <strong>Name Your Price v3.1.0</strong> or above.
</aside>
<pre class="highlight shell tab-shell"><code>curl -X POST https://example.com/wp-json/cocart/v1/add-item <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "product_id": 129,
    "quantity": 1,
    "cart_item_data": {
      "nyp": 24
    }
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"product_id"</span><span class="p">:</span> <span class="mi">129</span><span class="p">,</span>
    <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"cart_item_data"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"nyp"</span><span class="p">:</span> <span class="mi">24</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">129</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'nyp'</span> <span class="o">=&gt;</span> <span class="mi">24</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">129</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">'cart_item_data'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">'nyp'</span> <span class="o">=&gt;</span> <span class="mi">24</span>
    <span class="p">)</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">90</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre><h2 id='remove-item-from-cart'>Remove Item from Cart</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_remove-item-from-cart.md">Edit on GitHub</a></p>

<p>This API helps you to remove an item from the cart. You can also request to return the whole cart once item is removed to reduce API requests and use the <a href="#get-cart-contents">Get Cart Content</a> properties. </p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>cart_item_key</code></td>
<td>string</td>
<td>The cart item key of the product in the cart. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>return_cart</code></td>
<td>bool</td>
<td>Set as true to return the whole cart once item is removed. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-delete">DELETE</i>
    <h6>/wp-json/cocart/v1/item</h6>
  </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X DELETE https://example.com/wp-json/cocart/v1/item <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "cart_item_key": 404dcc91b2aeaa7caa47487d1483e48a
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"cart_item_key"</span> <span class="p">:</span> <span class="s2">"404dcc91b2aeaa7caa47487d1483e48a"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'method'</span> <span class="o">=&gt;</span> <span class="s1">'DELETE'</span><span class="p">,</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">90</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_request</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Item has been removed from cart."</span><span class="w">
</span></code></pre><h2 id='restore-item-to-cart'>Restore Item to Cart</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_restore-item-to-cart.md">Edit on GitHub</a></p>

<p>This API helps you to restore an item to the cart. You can also request to return the whole cart once item is restored to reduce API requests and use the <a href="#get-cart-contents">Get Cart Content</a> properties. </p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>cart_item_key</code></td>
<td>string</td>
<td>The cart item key of the product that was in the cart recently. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>return_cart</code></td>
<td>bool</td>
<td>Set as true to return the whole cart once item is restored. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/wp-json/cocart/v1/item</h6>
    </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X GET https://example.com/wp-json/cocart/v1/item <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "cart_item_key": 404dcc91b2aeaa7caa47487d1483e48a
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"cart_item_key"</span> <span class="p">:</span> <span class="s2">"404dcc91b2aeaa7caa47487d1483e48a"</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span>
  <span class="p">]</span> <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_get</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Item has been restored to the cart.""
</span></code></pre><h2 id='update-item-in-cart'>Update Item in Cart</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_update-item-in-cart.md">Edit on GitHub</a></p>

<p>This API helps you to update an item in the cart. You can also request to return the whole cart once item is updated to reduce API requests and use the <a href="#get-cart-contents">Get Cart Content</a> properties.</p>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cart_key</code></td>
<td>string</td>
<td>Unique identifier for the cart. <i class="label label-info">optional</i></td>
</tr>
<tr>
<td><code>cart_item_key</code></td>
<td>string</td>
<td>The cart item key of the product in the cart you want to update. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>float</td>
<td>Set the quantity of the product you want to update in the cart. <i class="label label-info">Default is 1</i></td>
</tr>
<tr>
<td><code>return_cart</code></td>
<td>bool</td>
<td>Set as true to return the whole cart once item is updated. <i class="label label-info">optional</i></td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/item</h6>
  </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X POST https://example.com/wp-json/cocart/v1/item <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "cart_item_key": "404dcc91b2aeaa7caa47487d1483e48a",
    "quantity": 2
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"cart_item_key"</span> <span class="p">:</span> <span class="s2">"404dcc91b2aeaa7caa47487d1483e48a"</span><span class="p">,</span>
    <span class="s2">"quantity"</span> <span class="p">:</span> <span class="mi">2</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">2</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'headers'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
  <span class="p">),</span>
  <span class="s1">'body'</span> <span class="o">=&gt;</span> <span class="nx">wp_json_encode</span><span class="p">(</span> <span class="p">[</span>
    <span class="s1">'cart_item_key'</span> <span class="o">=&gt;</span> <span class="s1">'404dcc91b2aeaa7caa47487d1483e48a'</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">2</span>
  <span class="p">]</span> <span class="p">),</span>
  <span class="s1">'timeout'</span> <span class="o">=&gt;</span> <span class="mi">90</span>
<span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="s2">"The quantity for 'Woo T-Shirt' has increased to '2'."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='load-cart-from-session'>Load Cart from Session</h1>
<p><span class="new">New Feature in v2.1</span></p>

<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_load-cart-from-session.md">Edit on GitHub</a></p>

<p>Load cart from session allows the cart of your choosing to be set before anything WooCommerce handles.</p>

<p>For example if you have a returning customer that started as a guest and then logs in to their account. WooCommerce will then merge the carts together should the customer already have a saved cart.</p>

<p>It can also be used to transfer the cart over to the web version of your store. This allows the customer to continue shopping or checkout what they already have in the cart added via your app. Handy if you don&#39;t yet have a checkout system in your app.</p>

<p>When a cart is loaded, the original session handler in the core of WooCommerce will be used to handle the cart from then on. You can choose to override the cart (if anything is set) via the web or merge the data together.</p>

<aside class="warning">
    Any changes made to the cart once loaded is not updated to the cart stored by CoCart.
</aside>

<aside class="notice">
    FYI: It does not matter if your customer is logged in or not already via the web version of your store. Only the cart data will be set. Customer details are <strong>not transferred</strong>.
</aside>
<h2 id='properties'>Properties</h2>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>cocart-load-cart</code></td>
<td>string</td>
<td>Set the cart key of the cart you wish to load. <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>notify</code></td>
<td>bool</td>
<td>Set as true to notify customers once arrived on the web version of your store. <i class="label label-info">Default is false</i></td>
</tr>
<tr>
<td><code>keep-cart</code></td>
<td>bool</td>
<td>Set as false to merge cart data. <i class="label label-info">Default is true</i></td>
</tr>
<tr>
<td><code>redirect</code></td>
<td>bool</td>
<td>Set as true to redirect to cart page. <i class="label label-info">Default is false. Web Only!</i></td>
</tr>
</tbody></table>
<h2 id='load-for-the-web'>Load for the Web</h2>
<p>To load the cart from session for the web, you must use the properties above to query your website.</p>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-example">Example</i>
    <h6>https://example.com/?cocart-load-cart=bbfa8e97ac9cff4c861d62a109e83bb6</h6>
  </div>
</div>

<aside class="notice">
    If the same item already exists in cart and you are merging the two carts together, that item will not change. It will not increase or decrease the quantity if the item hash key are the same.
</aside>
<h1 id='logout'>Logout</h1>
<p><span class="new">New API in v2.1</span></p>

<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_logout.md">Edit on GitHub</a></p>

<p>This API logs out your customers. This will clear all session cookies for WordPress and CoCart.</p>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/logout</h6>
  </div>
</div>
<pre class="highlight shell tab-shell"><code>curl -X POST https://example.com/wp-json/cocart/v1/logout <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://example.com/wp-json/cocart/v1/logout"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://example.com/wp-json/cocart/v1/logout"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">CURLOPT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="nx">CURLOPT_HTTPHEADER</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Accept: application/json'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'User-Agent: CoCart API/v1'</span><span class="p">,</span>
  <span class="p">)</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://example.com/wp-json/cocart/v1/logout'</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre><h1 id='extending-cocart'>Extending CoCart</h1>
<p>CoCart is developer friendly. Every part of the API allows a developer to make changes to their needs so the API works according to their code design.</p>
<h2 id='filters'>Filters</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_filters.md">Edit on GitHub</a></p>

<p>The cart API has a number of filters that you can use to extend or change the API.</p>

<p>See the <a href="https://github.com/co-cart/co-cart-tweaks">tweaks plugin for examples</a>.</p>

<aside class="notice">
Please make sure you are viewing the PHP language to view examples of the filters in use.
</aside>
<h3 id='change-empty-response'>Change empty response</h3>
<p>If you don&#39;t want to return an empty array when the cart is empty, you can return a custom response instead.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_return_empty_cart'</span><span class="p">,</span> <span class="s1">'empty_cart_message'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">empty_cart_message</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'Your cart is empty! Go and fill it.'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='change-thumbnail-size'>Change thumbnail size</h3>
<p>By default the size of the thumbnail uses <code>woocommerce_thumbnail</code>. You can change this by filtering the size using <code>cocart_item_thumbnail_size</code> filter.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_item_thumbnail_size'</span><span class="p">,</span> <span class="s1">'thumbnail_size'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">thumbnail_size</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'thumbnail'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='return-more-item-details'>Return more item details</h3>
<p>Sometimes you just need more product data for the items added. You can do so using <code>cocart_cart_contents</code> filter.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$cart_contents</code></td>
<td>array</td>
<td>An array of items added to the cart.</td>
</tr>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>Unique generated ID for the item in cart.</td>
</tr>
<tr>
<td><code>$cart_item</code></td>
<td>array</td>
<td>An array of details of the item in the cart.</td>
</tr>
<tr>
<td><code>$_product</code></td>
<td>object</td>
<td>The product data of the item.</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_contents'</span><span class="p">,</span> <span class="s1">'return_product_weight'</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">4</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">return_product_sku</span><span class="p">(</span> <span class="nv">$cart_contents</span><span class="p">,</span> <span class="nv">$item_key</span><span class="p">,</span> <span class="nv">$cart_item</span><span class="p">,</span> <span class="nv">$_product</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$cart_contents</span><span class="p">[</span><span class="nv">$item_key</span><span class="p">][</span><span class="s1">'sku'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$_product</span><span class="o">-&gt;</span><span class="na">get_sku</span><span class="p">();</span>

  <span class="k">return</span> <span class="nv">$cart_contents</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='sold-individually-quantity-override'>Sold Individually Quantity Override</h3>
<p>With this filter you can force items sold individually to have more or less.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_add_to_cart_sold_individually_quantity'</span><span class="p">,</span> <span class="s1">'override_sold_individual_quantity'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_sold_individual_quantity</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='ok-to-add-item'>OK to add item?</h3>
<p>Want to stop an item being added and return a custom message should it require an item not in the cart first.</p>

<p>Use the <code>cocart_ok_to_add</code> and <code>cocart_ok_to_add_response</code> filters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$status</code></td>
<td>bool</td>
<td>The status of adding an item to cart.</td>
</tr>
<tr>
<td><code>$response</code></td>
<td>string</td>
<td>The returned message.</td>
</tr>
<tr>
<td><code>$product_data</code></td>
<td>object</td>
<td>The product data of the item.</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_ok_to_add'</span><span class="p">,</span> <span class="s1">'requires_specific_item'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">requires_specific_item</span><span class="p">(</span> <span class="nv">$status</span><span class="p">,</span> <span class="nv">$product_data</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$cart_contents</span> <span class="o">=</span> <span class="nb">isset</span><span class="p">(</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span> <span class="p">)</span> <span class="o">?</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cart</span><span class="o">-&gt;</span><span class="na">get_cart</span><span class="p">()</span> <span class="o">:</span> <span class="nx">WC</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">cart</span><span class="p">;</span>

  <span class="nv">$required_product_id</span> <span class="o">=</span> <span class="s1">'123'</span><span class="p">;</span> <span class="c1">// Replace with real product ID number.
</span>
  <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$cart_contents</span> <span class="k">as</span> <span class="nv">$item_key</span> <span class="o">=&gt;</span> <span class="nv">$cart_item</span> <span class="p">)</span> <span class="p">{</span> 
      <span class="c1">// If required product ID does not exist return false.
</span>      <span class="k">if</span> <span class="p">(</span> <span class="nv">$cart_item</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">!=</span> <span class="nv">$required_product_id</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nv">$status</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nv">$status</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_ok_to_add_message'</span><span class="p">,</span> <span class="s1">'requires_specific_item'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">requires_specific_item_response</span><span class="p">(</span> <span class="nv">$response</span><span class="p">,</span> <span class="nv">$product_data</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nx">__</span><span class="p">(</span> <span class="s1">'This item requires a specific item to be added first to the cart.'</span> <span class="p">);</span>

  <span class="k">return</span> <span class="nv">$response</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='return-cart-contents'>Return cart contents</h3>
<p>If you are in need to change the formatting of the returned cart data, this filter is for you.</p>

<p>Use the <code>cocart_return_cart_contents</code> filter. In CoCart Pro you can filter the same results for removed cart contents.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Returns the cart contents without the cart item key as the parent array.
</span><span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_return_cart_contents'</span><span class="p">,</span> <span class="s1">'remove_parent_cart_item_key'</span><span class="p">,</span> <span class="mi">0</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">remove_parent_cart_item_key</span><span class="p">(</span> <span class="nv">$cart_contents</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$new_cart_contents</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

  <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$cart_contents</span> <span class="k">as</span> <span class="nv">$item_key</span> <span class="o">=&gt;</span> <span class="nv">$cart_item</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$new_cart_contents</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$cart_item</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nv">$new_cart_contents</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='add-to-cart-handler'>Add to Cart Handler</h3>
<p>The handler allows support for other product types besides simple and variable products.</p>

<p>It allows you to override the product type to trigger the product handler before the item is added to the cart.</p>

<p>This is handy if you don&#39;t need to provide your own product handler for your custom product type but just need to use a handler already in the core of CoCart. In CoCart Pro this filter is used so simple subscriptions and variable subscriptions can be added as a simple or variable product as there is not difference between the two when being added to the cart.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_add_to_cart_handler'</span><span class="p">,</span> <span class="s1">'my_add_to_cart_handler'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">my_add_to_cart_handler</span><span class="p">(</span> <span class="nv">$handler</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="nv">$handler</span> <span class="o">==</span> <span class="s1">'my-custom-product-type'</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">'simple'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='add-to-cart-validation'>Add to Cart Validation</h3>
<p>This filter allows plugin developers to pass their own validation before an item is added to the cart. Unlike the <code>woocommerce_add_to_cart_validation</code> filter, you can not pass form requests. If you have custom data for the product that must be validated, it must be passed via <code>$cart_item_data</code> and checked to see if it exists.</p>

<p>In addition, to save time identifying the product type it is passed through automatically for you via <code>$product_type</code> which saves a database request and increases loading speed.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$passed_validation</code></td>
<td>bool</td>
<td>The status of adding an item to cart. <i class="label label-info">Default is true.</i></td>
</tr>
<tr>
<td><code>$product_id</code></td>
<td>integer</td>
<td>The product ID.</td>
</tr>
<tr>
<td><code>$quantity</code></td>
<td>float</td>
<td>The quantity of the product.</td>
</tr>
<tr>
<td><code>$variation_id</code></td>
<td>integer</td>
<td>The variation of the product being added to the cart.</td>
</tr>
<tr>
<td><code>$variation</code></td>
<td>array</td>
<td>Attribute values.</td>
</tr>
<tr>
<td><code>$cart_item_data</code></td>
<td>array</td>
<td>Cart item data passed with the item.</td>
</tr>
<tr>
<td><code>$product_type</code></td>
<td>string</td>
<td>The product type.</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_add_to_cart_validation'</span><span class="p">,</span> <span class="s1">'my_add_to_cart_validation'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">7</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">my_add_to_cart_validation</span><span class="p">(</span> <span class="nv">$passed_validation</span><span class="p">,</span> <span class="nv">$product_id</span><span class="p">,</span> <span class="nv">$quantity</span><span class="p">,</span> <span class="nv">$variation_id</span><span class="p">,</span> <span class="nv">$variation</span><span class="p">,</span> <span class="nv">$cart_item_data</span><span class="p">,</span> <span class="nv">$product_type</span> <span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Add your validation here and simply return true|false.
</span>  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='override-product-name'>Override product name</h3>
<p>You can override the product name when cart is returned or just added to the cart.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$name</code></td>
<td>string</td>
<td>Original name of product.</td>
</tr>
<tr>
<td><code>$_product</code></td>
<td>WC_Product</td>
<td>The product data.</td>
</tr>
<tr>
<td><code>$cart_item</code></td>
<td>array</td>
<td>Cart item.</td>
</tr>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>Cart item key.</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_product_name'</span><span class="p">,</span> <span class="s1">'override_product_name'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_name</span><span class="p">(</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$_product</span><span class="p">,</span> <span class="nv">$cart_item</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'This product is special'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_item_added_product_name'</span><span class="p">,</span> <span class="s1">'override_product_name'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_name</span><span class="p">(</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$_product</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'This product is special'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='override-product-title'>Override product title</h3>
<p>You can override the product title when cart is returned or just added to the cart.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$name</code></td>
<td>string</td>
<td>Original name of product.</td>
</tr>
<tr>
<td><code>$_product</code></td>
<td>WC_Product</td>
<td>The product data.</td>
</tr>
<tr>
<td><code>$cart_item</code></td>
<td>array</td>
<td>Cart item.</td>
</tr>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>Cart item key.</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_product_title'</span><span class="p">,</span> <span class="s1">'override_product_title'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_title</span><span class="p">(</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$_product</span><span class="p">,</span> <span class="nv">$cart_item</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'This product is awesome'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_item_added_product_title'</span><span class="p">,</span> <span class="s1">'override_product_title'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_title</span><span class="p">(</span> <span class="nv">$name</span><span class="p">,</span> <span class="nv">$_product</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'This product is awesome'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='override-product-thumbnail-source'>Override product thumbnail source</h3>
<p>This filter in particular allows you to change the source image for a specific item. The source could be external for example.</p>

<aside class="warning">
  The filter is triggered after the <code>cocart_item_thumbnail_size</code> filter so you will need to have the new source image in the size you want.
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$thumbnail_src</code></td>
<td>string</td>
<td>The original thumbnail source.</td>
</tr>
<tr>
<td><code>$cart_item</code></td>
<td>array</td>
<td>Cart item.</td>
</tr>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>Cart item key.</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_item_thumbnail_src'</span><span class="p">,</span> <span class="s1">'override_item_thumbail_src'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_item_thumbail_src</span><span class="p">(</span> <span class="nv">$thumbnail_src</span><span class="p">,</span> <span class="nv">$cart_item</span><span class="p">,</span> <span class="nv">$item_key</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'https://placekitten.com/100/100'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='override-product-quantity'>Override product quantity</h3>
<p>You could use this filter to force certain products to be added to the cart with a certain quantity or for example use the <code>$quantity</code> value to calculate double the amount if your doing something unique for your store.</p>

<aside class="warning">
  The quantity however will not change if you have the product setup to be sold individually.
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$quantity</code></td>
<td>float</td>
<td>The original quantity of the item.</td>
</tr>
<tr>
<td><code>$product_id</code></td>
<td>integer</td>
<td>The product ID.</td>
</tr>
<tr>
<td><code>$variation_id</code></td>
<td>integer</td>
<td>The variation ID.</td>
</tr>
<tr>
<td><code>$variation</code></td>
<td>array</td>
<td>The variation data.</td>
</tr>
<tr>
<td><code>$cart_item_data</code></td>
<td>array</td>
<td>Cart item data passed with the item.</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_add_to_cart_quantity'</span><span class="p">,</span> <span class="s1">'override_product_quantity'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">override_product_quantity</span><span class="p">(</span> <span class="nv">$quantity</span><span class="p">,</span> <span class="nv">$product_id</span><span class="p">,</span> <span class="nv">$variation_id</span><span class="p">,</span> <span class="nv">$variation</span><span class="p">,</span> <span class="nv">$cart_item_data</span> <span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Make sure you specify the product ID you want to override.
</span>  <span class="k">if</span> <span class="p">(</span> <span class="nv">$product_id</span> <span class="o">==</span> <span class="mi">32</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// Make sure that you just return the number and not override the `$quantity` variable.
</span>  <span class="p">}</span>

  <span class="c1">// Return `$quantity` variable for all other products that you are NOT overriding.
</span>  <span class="k">return</span> <span class="nv">$quantity</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='return-cart-session-contents'>Return Cart Session Contents</h3>
<p>Identical to <code>cocart_return_cart_contents</code> filter, only this one is used to filter the cart contents returned for a cart in session.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_return_cart_session_contents'</span><span class="p">,</span> <span class="s1">'remove_parent_cart_item_key'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">remove_parent_cart_item_key</span><span class="p">(</span> <span class="nv">$cart_contents</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nv">$new_cart_contents</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

  <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$cart_contents</span> <span class="k">as</span> <span class="nv">$item_key</span> <span class="o">=&gt;</span> <span class="nv">$cart_item</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$new_cart_contents</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$cart_item</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nv">$new_cart_contents</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='cannot-add-product-type-to-cart-message'>Cannot Add Product Type to Cart Message</h3>
<p>Change the returned message when you try to add a product type that cannot be added to the cart.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cannot_add_product_type_to_cart_message'</span><span class="p">,</span> <span class="s1">'cannot_add_product_type_to_cart_message'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">cannot_add_product_type_to_cart_message</span><span class="p">()</span> <span class="p">{</span>
  <span class="cm">/* params: %1$s: product name, %2$s: product type */</span>
  <span class="nb">sprintf</span><span class="p">(</span> <span class="s1">'You cannot add "%1$s" to your cart as it is a "%2$s" product.'</span><span class="p">,</span> <span class="nv">$product_data</span><span class="o">-&gt;</span><span class="na">get_name</span><span class="p">(),</span> <span class="nv">$product_data</span><span class="o">-&gt;</span><span class="na">get_type</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='cart-item-removed-message'>Cart Item Removed Message</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$message</code></td>
<td>string</td>
<td>The original message.</td>
</tr>
<tr>
<td><code>$_product</code></td>
<td>WC_Product</td>
<td>The product data.</td>
</tr>
</tbody></table>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_item_removed_message'</span><span class="p">,</span> <span class="s1">'cart_item_removed_message'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">cart_item_removed_message</span><span class="p">(</span> <span class="nv">$message</span><span class="p">,</span> <span class="nv">$_product</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">sprintf</span><span class="p">(</span> <span class="s1">'%s has been removed from your cart because it can no longer be purchased. Please contact us if you need assistance.'</span><span class="p">,</span> <span class="nv">$_product</span><span class="o">-&gt;</span><span class="na">get_name</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='cookie-supported'>Cookie Supported?</h3>
<p>This filter allows you to disable the cookie support for handling the session for guest customers. This is so you don&#39;t overload the cart database when the session is initialized if you are using the alternative method for guest customers.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cookie_supported'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">});</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='change-cart-session-cookie-name'>Change cart session cookie name</h3>
<p>This could be changed to include your store brand name.</p>

<aside class="notice">
  Recommend that you at least leave in place the <strong>COOKIEHASH</strong> which by default is your site URL encrypted. It is used to guarantee unique hash for cookies.
</aside>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cookie'</span><span class="p">,</span> <span class="s1">'my_cocart_cookie_name'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">my_cocart_cookie_name</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'randomloot_store_'</span> <span class="o">.</span> <span class="nx">COOKIEHASH</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='should-cart-cookie-be-secure'>Should cart cookie be secure?</h3>
<p>Be default this will set as true if your site has SSL enabled. Otherwise it will return false. Filtering will force it.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_use_secure_cookie'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">});</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='cart-expiration'>Cart Expiration</h3>
<p>There are two filters for cart expiration. The first is used to detect if we are close to expiration of the cart. The second is used to set how long the cart will be stored until expired.</p>

<aside class="notice">
  Close to expiration by default is 29 days. Cart expiration by default is 30 days.
</aside>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_expiring'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">DAY_IN_SECONDS</span> <span class="o">*</span> <span class="mi">6</span><span class="p">;</span> <span class="p">});</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_expiration'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">DAY_IN_SECONDS</span> <span class="o">*</span> <span class="mi">7</span><span class="p">;</span> <span class="p">});</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='empty-cart-expiration'>Empty Cart Expiration</h3>
<p>This filter allows you to change the expiration of an empty cart. Default value is 6 hours.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_empty_cart_expiration'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">HOUR_IN_SECONDS</span> <span class="o">*</span> <span class="mi">1</span><span class="p">;</span> <span class="p">});</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='generated-customer-id'>Generated Customer ID</h3>
<p>This filter allows you to change the generated customer ID for the guest customer. Use this filter with caution. Can not be longer than 42 characters for the database.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_customer_id'</span><span class="p">,</span> <span class="s1">'my_custom_generate_customer_id'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">my_custom_generate_customer_id</span><span class="p">(</span> <span class="nv">$hasher</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">md5</span><span class="p">(</span> <span class="nv">$hasher</span><span class="o">-&gt;</span><span class="na">get_random_bytes</span><span class="p">(</span> <span class="mi">42</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='cart-loaded-successful-message'>Cart Loaded Successful Message</h3><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_cart_loaded_successful_message'</span><span class="p">,</span> <span class="s1">'cart_loaded_successful_message'</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">cart_loaded_successful_message</span><span class="p">(</span> <span class="nv">$message</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">sprintf</span><span class="p">(</span> <span class="s1">'Your 🛒 cart has been transferred over. You may %1$scontinue shopping%3$s or %2$scheckout%3$s.'</span><span class="p">,</span> <span class="s1">'&lt;a href="'</span> <span class="o">.</span> <span class="nx">wc_get_page_permalink</span><span class="p">(</span> <span class="s2">"shop"</span> <span class="p">)</span> <span class="o">.</span> <span class="s1">'"&gt;'</span><span class="p">,</span> <span class="s1">'&lt;a href="'</span> <span class="o">.</span> <span class="nx">wc_get_checkout_url</span><span class="p">()</span> <span class="o">.</span> <span class="s1">'"&gt;'</span><span class="p">,</span> <span class="s1">'&lt;/a&gt;'</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='merge-cart-items'>Merge Cart Items</h3>
<p>This filter allows you to change how the items are merged together before loaded into session when requesting to keep the current cart via the web.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="sd">/**
 * @param `$new_cart_content` - Returns the cart items merged from both cart in session and the cart requested to load.
 * @param `$new_cart` - Returns the requested cart to load.
 * @param `$cart_in_session` - Returns the current cart contents, if any.
 */</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_merge_cart_content'</span><span class="p">,</span> <span class="s1">'merge_cart_contents'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span> <span class="p">);</span>

<span class="k">function</span> <span class="nf">merge_cart_contents</span><span class="p">(</span> <span class="nv">$new_cart_content</span><span class="p">,</span> <span class="nv">$new_cart</span><span class="p">,</span> <span class="nv">$cart_in_session</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nv">$new_cart_content</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<div style="clear: both;"></div>
<h3 id='cocart-logging'>CoCart Logging</h3>
<p>If you are debugging CoCart during your development, enabling the logger is a great tool to have.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_logging'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">});</span>
</code></pre><h3 id='allowing-all-cross-origin-headers'>Allowing all cross origin headers</h3>
<p><span class="new">New Filter in v2.2</span></p>

<p>If you are getting a warning about cross origin headers then you may need to enable support for it. Simply apply this filter and the headers will set for you with no further configuration.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nx">add_filter</span><span class="p">(</span> <span class="s1">'cocart_disable_all_cors'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="p">});</span>
</code></pre><h2 id='hooks'>Hooks</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/cocart-v1/_hooks.md">Edit on GitHub</a></p>

<p>The cart API has a number of action hooks that you can use to extend the API to your needs.</p>

<p>See the <a href="https://github.com/co-cart/co-cart-tweaks">tweaks plugin for examples</a>.</p>
<h3 id='get-cart'>Get Cart</h3>
<p>Perhaps you need to apply something to the whole of the cart before it returns or send a notification. The choice is yours.</p>

<p>Use hook name: <code>cocart_get_cart</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$cart_contents</code></td>
<td>array</td>
<td>An array of items added to the cart.</td>
</tr>
</tbody></table>
<h3 id='clear-cart'>Clear Cart</h3>
<p>Could be used to send a registered customer an email once they have emptied their cart. 😢</p>

<p>Use hook name: <code>cocart_cart_cleared</code></p>
<h3 id='item-added'>Item Added</h3>
<p>You can do something once an item has been added to the cart.</p>

<p>Use hook name: <code>cocart_item_added_to_cart</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$item_key</code></td>
<td>string</td>
<td>The cart item key of the product in the cart.</td>
</tr>
<tr>
<td><code>$item_added</code></td>
<td>array</td>
<td>The details of the added item.</td>
</tr>
</tbody></table>
<h3 id='item-removed'>Item Removed</h3>
<p>Use hook name: <code>cocart_item_removed</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$current_data</code></td>
<td>array</td>
<td>The details of the item removed.</td>
</tr>
</tbody></table>
<h3 id='item-restored'>Item Restored</h3>
<p>Use hook name: <code>cocart_item_restored</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$current_data</code></td>
<td>array</td>
<td>The details of the item restored.</td>
</tr>
</tbody></table>
<h3 id='item-quantity-changed'>Item Quantity Changed</h3>
<p>Should you need to change some other detail for the updated item.</p>

<p>Use hook name: <code>cocart_item_quantity_changed</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>$cart_item_key</code></td>
<td>string</td>
<td>The cart item key of the product in the cart.</td>
</tr>
<tr>
<td><code>$new_data</code></td>
<td>array</td>
<td>The details of the item updated.</td>
</tr>
</tbody></table>
<h1 id='cocart-add-ons'>CoCart Add-ons</h1>
<p>CoCart Lite is just the tip of the iceberg.</p>
<h2 id='cocart-pro'>CoCart Pro</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_cocart-pro.md">Edit on GitHub</a></p>

<p>CoCart Pro, an extension that completes the CoCart API package with more control over the cart from coupons, shipping methods to additional fees and more.</p>

<p><a href="https://cocart.xyz/pro/">Purchase here</a></p>

<p>The following table shows API versions present in each major version of CoCart:</p>

<table><thead>
<tr>
<th>API Version</th>
<th>CoCart Pro Version</th>
<th>WC Version</th>
<th>WP Version</th>
<th>Documentation</th>
</tr>
</thead><tbody>
<tr>
<td><code>v1</code></td>
<td>1.0.x or later</td>
<td>3.6.x or later</td>
<td>4.4 or later</td>
<td><a href="pro.html">view api documentation</a></td>
</tr>
</tbody></table>
<h2 id='cocart-products'>CoCart Products</h2>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_cocart-products.md">Edit on GitHub</a></p>

<p>CoCart Products provides a public API version of accessing products, categories, tags, attributes and 
even reviews without the need to authenticate. Designed more suited for the frontend so none of the shop manager only features are exploited and it comes with a few more parameters to filter and return the products the way you want or need.</p>

<p><a href="https://cocart.xyz/add-ons/products/">Purchase here</a></p>

<p>The following table shows API versions present in each major version of CoCart Products:</p>

<table><thead>
<tr>
<th>API Version</th>
<th>CoCart Pro Version</th>
<th>WC Version</th>
<th>WP Version</th>
<th>Documentation</th>
</tr>
</thead><tbody>
<tr>
<td><code>v1</code></td>
<td>1.0.x or later</td>
<td>3.6.x or later</td>
<td>4.4 or later</td>
<td><a href="products.html">view api documentation</a></td>
</tr>
</tbody></table>
<h1 id='demo-cocart'>Demo CoCart</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_demo.md">Edit on GitHub</a></p>

<p>If you don&#39;t yet have CoCart installed or a WordPress setup ready, you can test the results in your app using the demo site prepared.</p>

<p>When you do make a request, make sure you use <code>https://wp-demo.cocart.xyz/</code> as the domain to use the demo.</p>

<p><a href="https://cocart.xyz/add-ons/get-cart-enhanced/">Get Cart Enhanced</a> add-on is installed so some results may appear different to the example results you see throughout the documentation. It also gives you a look at what is possible using the <a href="#filters">filters</a> available to customize CoCart to your needs.</p>
<h2 id='adding-an-item'>Adding an item</h2>
<p>Here is an example of adding a item to the cart via the demo.</p>
<h3 id='http-request'>HTTP request</h3>
<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-post">POST</i>
    <h6>/wp-json/cocart/v1/add-item</h6>
  </div>
</div>

<p><a href="#add-item-to-cart">View more on add to cart</a></p>
<pre class="highlight shell tab-shell"><code>curl -X POST https://wp-demo.cocart.xyz/wp-json/cocart/v1/add-item <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "product_id": 183,
    "quantity": 1
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript--jquery"><code><span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"https://wp-demo.cocart.xyz/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"product_id"</span> <span class="p">:</span> <span class="mi">183</span><span class="p">,</span>
    <span class="s2">"quantity"</span> <span class="p">:</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">183</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">);</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span> <span class="nv">$curl</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="nx">CURLOPT_URL</span> <span class="o">=&gt;</span> <span class="s2">"https://wp-demo.cocart.xyz/wp-json/cocart/v1/add-item"</span><span class="p">,</span>
  <span class="nx">CURLOPT_CUSTOMREQUEST</span> <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="nx">CURLOPT_POSTFIELDS</span> <span class="o">=&gt;</span> <span class="nv">$args</span><span class="p">,</span>
  <span class="nx">CURLOPT_RETURNTRANSFER</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">)</span> <span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$response</span><span class="p">;</span>
</code></pre><pre class="highlight php tab-php--wp-http-api"><code><span class="cp">&lt;?php</span>
<span class="nv">$args</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'product_id'</span> <span class="o">=&gt;</span> <span class="mi">183</span><span class="p">,</span>
  <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">);</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nx">wp_remote_post</span><span class="p">(</span> <span class="s1">'https://wp-demo.cocart.xyz/wp-json/cocart/v1/add-item'</span><span class="p">,</span> <span class="nv">$args</span> <span class="p">);</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nx">wp_remote_retrieve_body</span><span class="p">(</span> <span class="nv">$response</span> <span class="p">);</span>
</code></pre><h2 id='authenticate-customer'>Authenticate Customer</h2>
<p>Currently on the demo, you can test authentication as a customer via the <a href="#basic-authentication">basic method</a>.</p>

<table><thead>
<tr>
<th>Username</th>
<th>Password</th>
</tr>
</thead><tbody>
<tr>
<td><code>demo</code></td>
<td><code>&amp;nm5y7^sf&amp;hm1D5MwKLgrQeC</code></td>
</tr>
</tbody></table>

<p>More authentication methods to test with on the demo will come in the future.</p>
<h2 id='products'>Products</h2>
<p>Here is a table of products you can use to test with.</p>

<table><thead>
<tr>
<th>ID</th>
<th>Variation ID</th>
<th>Name</th>
<th>Type</th>
<th>Price</th>
<th>Sold Individually</th>
<th>Variation</th>
</tr>
</thead><tbody>
<tr>
<td><code>183</code></td>
<td>-</td>
<td>Beanie with Logo</td>
<td>Simple</td>
<td>£18.00</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><code>174</code></td>
<td>-</td>
<td>Album</td>
<td>Simple (Virtual)</td>
<td>£15.00</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td><code>185</code></td>
<td>-</td>
<td>WordPress Pennant</td>
<td>External</td>
<td>£11.05</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td><code>163</code></td>
<td><code>179</code></td>
<td>Hoodie</td>
<td>Variable</td>
<td>£42.00</td>
<td>No</td>
<td><code>&quot;attribute_pa_color&quot;: &quot;red&quot;, &quot;attribute_logo&quot;: &quot;No&quot;</code> <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>163</code></td>
<td><code>180</code></td>
<td>Hoodie</td>
<td>Variable</td>
<td>£45.00</td>
<td>No</td>
<td><code>&quot;attribute_pa_color&quot;: &quot;green&quot;, &quot;attribute_logo&quot;: &quot;No&quot;</code> <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>163</code></td>
<td><code>181</code></td>
<td>Hoodie</td>
<td>Variable</td>
<td>£45.00</td>
<td>No</td>
<td><code>&quot;attribute_pa_color&quot;: &quot;blue&quot;, &quot;attribute_logo&quot;: &quot;No&quot;</code> <i class="label label-info">mandatory</i></td>
</tr>
<tr>
<td><code>329</code></td>
<td>-</td>
<td>The Last of Us Part 2 -</td>
<td>Simple (Name Your Price)</td>
<td>Suggested: £229</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>Ellie Edition</td>
<td></td>
<td>Minimum: £180</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>744</code></td>
<td>-</td>
<td>Netfoobar</td>
<td>Simple Subscription</td>
<td>£5.99 / month with a 14-day free trial.</td>
<td>Yes</td>
<td></td>
</tr>
</tbody></table>
<h2 id='coupons'>Coupons</h2>
<p>Here is a table of coupons you can use to test with.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Coupon Type</th>
<th>Coupon Amount</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>get10offcart</code></td>
<td>Percentage discount</td>
<td>10</td>
<td>Takes 10% off the cart total.</td>
</tr>
<tr>
<td><code>£25OFF</code></td>
<td>Fixed cart discount</td>
<td>25</td>
<td>Takes £25 off the cart total.</td>
</tr>
</tbody></table>
<h1 id='tools'>Tools</h1>
<p><img src="images/github.svg" width="20" height="20" alt="GitHub Mark Logo"> <a href="https://github.com/co-cart/co-cart-docs/blob/master/source/includes/_tools.md">Edit on GitHub</a></p>

<p>Some useful tools you can use to access the API include:</p>

<ul>
<li><a href="https://www.getpostman.com/">Postman</a> - A multi platform REST API GUI client (using Google Chrome or installing the app on Mac OS X or Windows).</li>
<li><a href="https://postwoman.io/">Postwoman</a> - A fast and beautiful API request builder (web alternative to Postman).</li>
<li><a href="https://insomnia.rest/">Insomnia</a> - Similar to Postman using an app on Mac OS X, Windows or Ubuntu.</li>
<li><a href="https://mmattozzi.github.io/cocoa-rest-client/">CocoaRestClient</a> - A Mac OS X GUI client for interacting with the API.</li>
<li><a href="https://itunes.apple.com/us/app/paw-http-client/id584653203?mt=12">Paw HTTP Client</a> - Another HTTP client for Mac OS X.</li>
<li><a href="https://addons.mozilla.org/en-US/firefox/addon/restclient/">RESTClient, a debugger for RESTful web services</a> - Free Firefox add-on.</li>
<li><a href="https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo">Advanced REST client</a> - Free Google Chrome extension.</li>
<li><a href="https://hookbin.com/">Hookbin</a> - Another tool to test web hooks.</li>
</ul>

<p>If you use <strong>Postman</strong> you can use <a href="https://github.com/co-cart/cocart-postman-collections">these collections</a> made ready for you.</p>
<h1 id='learn-more'>Learn more</h1>
<p>Learn more about the REST API by checking the <a href="https://developer.wordpress.org/rest-api/" target="_blank">official WordPress REST API documentation</a>.</p>

<ul>
<li><a href="https://cocart.xyz/about/">About CoCart</a></li>
<li><a href="https://cocart.xyz/pro/">Pricing and FAQ</a></li>
<li><a href="https://cocart.xyz/community/">Community</a></li>
</ul>
<h1 id='changelog'>Changelog</h1>
<p>Below is the changelog for &quot;CoCart&quot; documentation that matches with the version of the plugin release.</p>
<h2 id='doc-version-2-2-plugin-release-v2-2'>Doc Version 2.2 - Plugin Release v2.2</h2>
<ul>
<li>Dev: Added <code>cocart_disable_all_cors</code> filter to enable all cross origin headers.</li>
<li>Dev: Added filters to override the product name <code>cocart_item_added_product_name</code> and product title <code>cocart_item_added_product_title</code> when adding item to cart.</li>
<li>Dev: Added <code>cocart_item_added</code> filter to allow additional data to be returned when item is added to cart.</li>
</ul>
<h2 id='doc-version-2-1-plugin-release-v2-1-3'>Doc Version 2.1 - Plugin Release v2.1.3</h2>
<ul>
<li><strong>NEW</strong>: Added example for adding product with <a href="https://woocommerce.com/products/name-your-price/">Name Your Price</a> WooCommerce extension.</li>
</ul>
<h2 id='doc-version-2-0-plugin-release-v2-1-2'>Doc Version 2.0 - Plugin Release v2.1.2</h2>
<ul>
<li>Tweaked: WP API examples.</li>
<li>Removed: Warning notice in the introduction section.</li>
</ul>
<h2 id='doc-version-1-9'>Doc Version 1.9</h2>
<ul>
<li><strong>NEW</strong>: Added Cookie section.</li>
<li><strong>NEW</strong>: Added link to Postman collections.</li>
<li>Tweaked: Certain features or API&#39;s are tagged to identify that they are only available in v2.1</li>
<li>Removed: Persistent Cart documentation.</li>
</ul>
<h2 id='doc-version-1-8-plugin-release-v2-1'>Doc Version 1.8 - Plugin Release v2.1</h2>
<ul>
<li><strong>NEW</strong>: Added support for guest carts with a new endpoint to retrieve those carts.</li>
<li><strong>NEW</strong>: Added ability to load a cart from session.</li>
<li><strong>NEW</strong>: Can now add items to cart using a products SKU ID.</li>
<li><strong>NEW</strong>: When an item is updated, removed or restored... the cart totals are re-calculated.</li>
<li>Dev: Added filter <code>cocart_add_to_cart_validation</code> to allow plugin developers to pass their own validation before item is added to the cart.</li>
<li>Dev: Added filters to override the product name <code>cocart_product_name</code> and product title <code>cocart_product_title</code> when getting the cart contents.</li>
<li>Dev: Added filter <code>cocart_item_thumbnail_src</code> to override the source URL of the product thumbnail when getting the cart contents.</li>
<li>Dev: Added filter <code>cocart_add_to_cart_quantity</code> to override the quantity when adding an item.</li>
<li>Dev: Added filter <code>cocart_add_cart_item_data</code> so other plugins can pass cart item data when adding an item.</li>
<li>Dev: Added hook <code>cocart_user_switched</code> to allow something to happen if a user has switched.</li>
<li>Dev: Added hook <code>cocart_load_cart</code> to manipulate the merged cart before it set in session.</li>
<li>Dev: Added hook <code>cocart_load_cart_override</code> to manipulate the overriding cart before it set in session.</li>
<li>Dev: Added hook <code>cocart_item_added_updated_in_cart</code> for when an item was added again but updated in cart.</li>
<li>Dev: Added filter <code>cocart_cookie_supported</code> to allow developers to disable cookie session support if they don&#39;t/can&#39;t support cookies within their app.</li>
</ul>
<h3 id='doc-version-1-7'>Doc Version 1.7</h3>
<ul>
<li><strong>NEW</strong>: Added links to edit documentation at the top of each section.</li>
<li><strong>NEW</strong>: Added Getting Started section for those new to WordPress.</li>
<li>Corrected: Typos.</li>
<li>Tweaked: Menu</li>
<li>Tweaked: Brand colours and updated favicons.</li>
</ul>
<h3 id='doc-version-1-6-plugin-release-v2-0-13'>Doc Version 1.6 - Plugin Release v2.0.13</h3>
<ul>
<li><strong>NEW</strong>: Added <code>cocart_return_empty_cart</code> filter and example.</li>
<li><strong>NEW</strong>: Added <code>cocart_add_to_cart_sold_individually_quantity</code>and example.</li>
<li>Changed: Quantity parameter type to <code>float</code>.</li>
<li>Tweaked: Authentication notice moved to the top of it&#39;s sections content.</li>
<li>Tweaked: Menu, content and added helpful links.</li>
<li>Tweaked: Filter examples to be code highlighted correctly.</li>
</ul>
<h3 id='doc-version-1-5-plugin-release-v2-0-7'>Doc Version 1.5 - Plugin Release v2.0.7</h3>
<ul>
<li><strong>NEW</strong>: Added link to products add-on documentation under CoCart Pro.</li>
<li><strong>NEW</strong>: Added a little section explaining the body types when making a request.</li>
<li><strong>NEW</strong>: Added example to add item with custom cart item data.</li>
<li><strong>NEW</strong>: Added Demo section.</li>
<li>Improved: Authentication section.</li>
</ul>
<h3 id='doc-version-1-4'>Doc Version 1.4</h3>
<ul>
<li><strong>NEW</strong>: Added live chat so users can ask questions.</li>
<li>Made it clearer to understand about retrieving specific customers cart.</li>
<li>Improved the introduction a little.</li>
</ul>
<h3 id='doc-version-1-3'>Doc Version 1.3</h3>
<ul>
<li>Added languages for jQuery, PHP and WP API.</li>
</ul>
<h3 id='doc-version-1-2'>Doc Version 1.2</h3>
<ul>
<li>Added Work in Progress section.</li>
<li>Added Authentication section.</li>
</ul>
<h3 id='doc-version-1-1'>Doc Version 1.1</h3>
<ul>
<li>Added Index API.</li>
<li>Linked logo to documentation homepage.</li>
</ul>
<h3 id='doc-version-1-plugin-release-v2'>Doc Version 1 - Plugin Release v2</h3>
<ul>
<li>Updated for CoCart v2</li>
</ul>
<h3 id='doc-version-0-5'>Doc Version 0.5</h3>
<ul>
<li>Added attribute table for view cart.</li>
<li>Added missing examples for count items and get cart totals.</li>
</ul>
<h3 id='doc-version-0-4-plugin-release-1-0-5'>Doc Version 0.4 - Plugin Release 1.0.5</h3>
<ul>
<li>Project renamed to CoCart.</li>
<li>Changed support to contribution.</li>
<li>Updated links.</li>
<li>Added Insomnia as another tool you can use to access the API with.</li>
<li>Removed all languages except for cURL showing examples on how to use with official library wrappers due to authentication required whic CoCart does not.</li>
</ul>
<h3 id='doc-version-0-3-plugin-release-1-0-4'>Doc Version 0.3 - Plugin Release 1.0.4</h3>
<ul>
<li>Official libraries are not supported as they require authentication which this API does not.</li>
<li>Removed installation instruction for official libraries.</li>
<li>Replaced logo to prevent confusion with the official REST API documentation.</li>
</ul>
<h3 id='doc-version-0-2-plugin-release-1-0-1'>Doc Version 0.2 - Plugin Release 1.0.1</h3>
<ul>
<li>Updated endpoint for updating, restoring and removing items.</li>
</ul>
<h3 id='doc-version-0-1-plugin-release-1-0-0'>Doc Version 0.1 - Plugin Release 1.0.0</h3>
<ul>
<li>Initial Commit</li>
</ul>
<h1 id='contribute'>Contribute</h1>
<p>If you or your company use CoCart or appreciate the work I’m doing in open source, please consider <a href="https://cocart.xyz/pricing/?utm_medium=docs.cocart.xyz&amp;utm_source=docs&amp;utm_campaign=contribute&amp;utm_content=cocart-docs">purchasing CoCart Pro</a> where you not just get the full cart experience but also support me directly so I can continue maintaining CoCart and keep evolving the project.</p>

<p>Please also consider starring ✨ and sharing 👍 the <a href="https://github.com/co-cart/co-cart">project repo</a>! This helps the project getting known and grow with the community. 🙏</p>

<p>Thank you for your support! 🙌</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="javascript--jquery">jQuery</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="php--wp-http-api">WP API</a>
          </div>
      </div>
    </div>
  </body>
</html>
